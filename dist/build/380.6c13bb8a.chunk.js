"use strict";(self.webpackChunkem_guide_app=self.webpackChunkem_guide_app||[]).push([[380],{20380:(R,e,s)=>{s.r(e),s.d(e,{AdminSeatInfoEE:()=>B});var t=s(56940),l=s(11674),_=s(74065),i=s(66041),M=s(78506),D=s(81583),o=s(70468),a=s(30956),O=s(57120),n=s(889),P=s(48288),E=s(93484),m=s(63355),r=s(74089),p=s(75937),S=s(40829),j=s(21633),y=s(85845),Z=s(88720),F=s(66086),H=s(88193),G=s(8232),N=s(5337),$=s(4357),J=s(41480),Q=s(24926),V=s(32635),z=s(42052),X=s(67620),Y=s(71999),b=s(4549),k=s(333),w=s(21709),q=s(78712);const v="https://cloud.strapi.io/profile/billing",U="https://strapi.io/billing/request-seats",B=()=>{const{formatMessage:d}=(0,P.Z)(),T=(0,E.useSelector)(m.s),{isLoading:C,allowedActions:{canRead:c,canCreate:g,canUpdate:W,canDelete:K}}=(0,a.useRBAC)(T.settings.users),{license:{licenseLimitStatus:h,enforcementUserCount:A,permittedSeats:L,isHostedOnStrapiCloud:I},isError:u,isLoading:f}=(0,r.u)({enabled:!C&&c&&g&&W&&K});return u||(C||f)||!L?null:(0,t.jsxs)(l.P,{col:6,s:12,children:[(0,t.jsx)(_.Z,{variant:"sigma",textColor:"neutral600",children:d({id:"Settings.application.admin-seats",defaultMessage:"Admin seats"})}),(0,t.jsxs)(i.k,{gap:2,children:[(0,t.jsx)(i.k,{children:(0,t.jsx)(_.Z,{as:"p",children:d({id:"Settings.application.ee.admin-seats.count",defaultMessage:"<text>{enforcementUserCount}</text>/{permittedSeats}"},{permittedSeats:L,enforcementUserCount:A,text:x=>(0,t.jsx)(_.Z,{fontWeight:"semiBold",textColor:A>L?"danger500":null,children:x})})})}),h==="OVER_LIMIT"&&(0,t.jsx)(M.u,{description:d({id:"Settings.application.ee.admin-seats.at-limit-tooltip",defaultMessage:"At limit: add seats to invite more users"}),children:(0,t.jsx)(D.J,{width:`${(0,a.pxToRem)(14)}rem`,height:`${(0,a.pxToRem)(14)}rem`,color:"danger500",as:O.Z})})]}),(0,t.jsx)(o.r,{href:I?v:U,isExternal:!0,endIcon:(0,t.jsx)(n.Z,{}),children:d({id:"Settings.application.ee.admin-seats.add-seats",defaultMessage:"{isHostedOnStrapiCloud, select, true {Add seats} other {Contact sales}}"},{isHostedOnStrapiCloud:I})})]})}},74089:(R,e,s)=>{s.d(e,{u:()=>i});var t=s(75937),l=s(30956),_=s(40829);function i({enabled:M}={enabled:!0}){const{get:D}=(0,l.useFetchClient)(),{data:o,isError:a,isLoading:O}=(0,_.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:E}}=await D("/admin/license-limit-information");return E},{enabled:M}),n=t.useMemo(()=>o??{},[o]),P=t.useCallback(E=>(n?.features??[]).find(r=>r.name===E)?.options??{},[n?.features]);return{license:n,getFeature:P,isError:a,isLoading:O}}}}]);
