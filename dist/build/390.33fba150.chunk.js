"use strict";(self.webpackChunkem_guide_app=self.webpackChunkem_guide_app||[]).push([[390],{53917:(A,E,e)=>{e.d(E,{A:()=>D});var s=e(56940),d=e(19681),c=e(65094);const m=(0,d.default)(c.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:o})=>o?"auto 1fr":"1fr"};
`,O=(0,d.default)(c.x)`
  overflow-x: hidden;
`,D=({sideNav:o,children:_})=>(0,s.jsxs)(m,{hasSideNav:Boolean(o),children:[o,(0,s.jsx)(O,{paddingBottom:10,children:_})]})},20390:(A,E,e)=>{e.r(E),e.d(E,{SettingsPage:()=>h,default:()=>z});var s=e(56940),d=e(75937),c=e(22512),m=e(95984),O=e(58400),D=e(54997),o=e(53917),_=e(66041),L=e(65094),T=e(74065),y=e(78054),M=e(11674),u=e(64923),l=e(30956),x=e(30454),I=e(45641),B=e(41480),R=e(48288),p=e(40829),i=e(16348),J=e(76318),V=e(4549),U=e(74419),K=e(21709),Y=e(24926),w=e(42052),q=e(24302),ee=e(43223),se=e(49079);const W=t=>t,j={initialData:{responsiveDimensions:!0,sizeOptimization:!0,autoOrientation:!1,videoPreview:!1},modifiedData:{responsiveDimensions:!0,sizeOptimization:!0,autoOrientation:!1,videoPreview:!1}},b=(t,n)=>(0,U.default)(t,r=>{switch(n.type){case"GET_DATA_SUCCEEDED":{r.initialData=n.data,r.modifiedData=n.data;break}case"ON_CHANGE":{K(r,["modifiedData",...n.keys.split(".")],n.value);break}default:return t}}),h=()=>{const{formatMessage:t}=(0,R.Z)(),{lockApp:n,unlockApp:r}=(0,l.useOverlayBlocker)(),S=(0,l.useNotification)(),{get:N,put:F}=(0,l.useFetchClient)();(0,l.useFocusWhenNavigate)();const[{initialData:G,modifiedData:g},v]=(0,d.useReducer)(b,j,W),{data:f,isLoading:Z,refetch:H}=(0,p.useQuery)({queryKey:["upload","settings"],async queryFn(){const{data:{data:a}}=await N("/upload/settings");return a}});d.useEffect(()=>{f&&v({type:"GET_DATA_SUCCEEDED",data:f})},[f]);const C=I(G,g),{mutateAsync:Q,isLoading:X}=(0,p.useMutation)({async mutationFn(a){return F("/upload/settings",a)},onSuccess(){H(),S({type:"success",message:{id:"notification.form.success.fields"}})},onError(a){console.error(a)}}),$=async a=>{a.preventDefault(),!C&&(n(),await Q(g),r())},P=({target:{name:a,value:k}})=>{v({type:"ON_CHANGE",keys:a,value:k})};return(0,s.jsxs)(c.o,{tabIndex:-1,children:[(0,s.jsx)(B.q,{title:t({id:(0,i.g)("page.title"),defaultMessage:"Settings - Media Libray"})}),(0,s.jsxs)("form",{onSubmit:$,children:[(0,s.jsx)(m.T,{title:t({id:(0,i.g)("settings.header.label"),defaultMessage:"Media Library"}),primaryAction:(0,s.jsx)(O.z,{disabled:C,loading:X,type:"submit",startIcon:(0,s.jsx)(x.Z,{}),size:"S",children:t({id:"global.save",defaultMessage:"Save"})}),subtitle:t({id:(0,i.g)("settings.sub-header.label"),defaultMessage:"Configure the settings for the Media Library"})}),(0,s.jsx)(D.D,{children:Z?(0,s.jsx)(l.LoadingIndicatorPage,{}):(0,s.jsx)(o.A,{children:(0,s.jsx)(_.k,{direction:"column",alignItems:"stretch",gap:12,children:(0,s.jsx)(L.x,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:!0,children:(0,s.jsxs)(_.k,{direction:"column",alignItems:"stretch",gap:4,children:[(0,s.jsx)(_.k,{children:(0,s.jsx)(T.Z,{variant:"delta",as:"h2",children:t({id:(0,i.g)("settings.blockTitle"),defaultMessage:"Asset management"})})}),(0,s.jsxs)(y.r,{gap:6,children:[(0,s.jsx)(M.P,{col:6,s:12,children:(0,s.jsx)(u.s,{"aria-label":"responsiveDimensions",checked:g.responsiveDimensions,hint:t({id:(0,i.g)("settings.form.responsiveDimensions.description"),defaultMessage:"Enabling this option will generate multiple formats (small, medium and large) of the uploaded asset."}),label:t({id:(0,i.g)("settings.form.responsiveDimensions.label"),defaultMessage:"Responsive friendly upload"}),name:"responsiveDimensions",offLabel:t({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:t({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:a=>{P({target:{name:"responsiveDimensions",value:a.target.checked}})}})}),(0,s.jsx)(M.P,{col:6,s:12,children:(0,s.jsx)(u.s,{"aria-label":"sizeOptimization",checked:g.sizeOptimization,hint:t({id:(0,i.g)("settings.form.sizeOptimization.description"),defaultMessage:"Enabling this option will reduce the image size and slightly reduce its quality."}),label:t({id:(0,i.g)("settings.form.sizeOptimization.label"),defaultMessage:"Size optimization"}),name:"sizeOptimization",offLabel:t({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:t({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:a=>{P({target:{name:"sizeOptimization",value:a.target.checked}})}})}),(0,s.jsx)(M.P,{col:6,s:12,children:(0,s.jsx)(u.s,{"aria-label":"autoOrientation",checked:g.autoOrientation,hint:t({id:(0,i.g)("settings.form.autoOrientation.description"),defaultMessage:"Enabling this option will automatically rotate the image according to EXIF orientation tag."}),label:t({id:(0,i.g)("settings.form.autoOrientation.label"),defaultMessage:"Auto orientation"}),name:"autoOrientation",offLabel:t({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:t({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:a=>{P({target:{name:"autoOrientation",value:a.target.checked}})}})})]})]})})})})})]})]})},z=()=>(0,s.jsx)(l.CheckPagePermissions,{permissions:i.P.settings,children:(0,s.jsx)(h,{})})}}]);
