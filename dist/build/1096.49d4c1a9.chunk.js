(self.webpackChunkem_guide_app=self.webpackChunkem_guide_app||[]).push([[1096],{10806:E=>{function z(r,a,f,y){for(var N=-1,Z=r==null?0:r.length;++N<Z;){var $=r[N];a(y,$,f($),r)}return y}E.exports=z},80698:(E,z,r)=>{var a=r(40564);function f(y,N){var Z=y==null?0:y.length;return!!Z&&a(y,N,0)>-1}E.exports=f},57436:E=>{function z(r,a,f){for(var y=-1,N=r==null?0:r.length;++y<N;)if(f(a,r[y]))return!0;return!1}E.exports=z},27624:(E,z,r)=>{var a=r(54805),f=a("length");E.exports=f},24011:(E,z,r)=>{var a=r(87685);function f(y,N,Z,$){return a(y,function(b,L,U){N($,b,Z(b),U)}),$}E.exports=f},87685:(E,z,r)=>{var a=r(28422),f=r(69860),y=f(a);E.exports=y},96643:E=>{function z(r,a,f,y){for(var N=r.length,Z=f+(y?1:-1);y?Z--:++Z<N;)if(a(r[Z],Z,r))return Z;return-1}E.exports=z},40564:(E,z,r)=>{var a=r(96643),f=r(98386),y=r(41814);function N(Z,$,b){return $===$?y(Z,$,b):a(Z,f,b)}E.exports=N},98386:E=>{function z(r){return r!==r}E.exports=z},92558:(E,z,r)=>{var a=r(30013),f=r(78905),y="[object RegExp]";function N(Z){return f(Z)&&a(Z)==y}E.exports=N},48949:(E,z,r)=>{var a=r(87685),f=r(41182);function y(N,Z){var $=-1,b=f(N)?Array(N.length):[];return a(N,function(L,U,Q){b[++$]=Z(L,U,Q)}),b}E.exports=y},91959:(E,z,r)=>{var a=r(41710),f=r(64723),y=r(52536),N=r(48949),Z=r(3130),$=r(130),b=r(27973),L=r(10409),U=r(28768);function Q(ee,ie,Ze){ie.length?ie=a(ie,function(K){return U(K)?function(te){return f(te,K.length===1?K[0]:K)}:K}):ie=[L];var ue=-1;ie=a(ie,$(y));var ge=N(ee,function(K,te,ne){var fe=a(ie,function(ce){return ce(K)});return{criteria:fe,index:++ue,value:K}});return Z(ge,function(K,te){return b(K,te,Ze)})}E.exports=Q},3130:E=>{function z(r,a){var f=r.length;for(r.sort(a);f--;)r[f]=r[f].value;return r}E.exports=z},75909:(E,z,r)=>{var a=r(47081),f=r(80698),y=r(57436),N=r(43568),Z=r(21549),$=r(50078),b=200;function L(U,Q,ee){var ie=-1,Ze=f,ue=U.length,ge=!0,K=[],te=K;if(ee)ge=!1,Ze=y;else if(ue>=b){var ne=Q?null:Z(U);if(ne)return $(ne);ge=!1,Ze=N,te=new a}else te=Q?[]:K;e:for(;++ie<ue;){var fe=U[ie],ce=Q?Q(fe):fe;if(fe=ee||fe!==0?fe:0,ge&&ce===ce){for(var he=te.length;he--;)if(te[he]===ce)continue e;Q&&te.push(ce),K.push(fe)}else Ze(te,ce,ee)||(te!==K&&te.push(ce),K.push(fe))}return K}E.exports=L},32330:(E,z,r)=>{var a=r(24160);function f(y,N){if(y!==N){var Z=y!==void 0,$=y===null,b=y===y,L=a(y),U=N!==void 0,Q=N===null,ee=N===N,ie=a(N);if(!Q&&!ie&&!L&&y>N||L&&U&&ee&&!Q&&!ie||$&&U&&ee||!Z&&ee||!b)return 1;if(!$&&!L&&!ie&&y<N||ie&&Z&&b&&!$&&!L||Q&&Z&&b||!U&&b||!ee)return-1}return 0}E.exports=f},27973:(E,z,r)=>{var a=r(32330);function f(y,N,Z){for(var $=-1,b=y.criteria,L=N.criteria,U=b.length,Q=Z.length;++$<U;){var ee=a(b[$],L[$]);if(ee){if($>=Q)return ee;var ie=Z[$];return ee*(ie=="desc"?-1:1)}}return y.index-N.index}E.exports=f},81947:(E,z,r)=>{var a=r(10806),f=r(24011),y=r(52536),N=r(28768);function Z($,b){return function(L,U){var Q=N(L)?a:f,ee=b?b():{};return Q(L,$,y(U,2),ee)}}E.exports=Z},69860:(E,z,r)=>{var a=r(41182);function f(y,N){return function(Z,$){if(Z==null)return Z;if(!a(Z))return y(Z,$);for(var b=Z.length,L=N?b:-1,U=Object(Z);(N?L--:++L<b)&&$(U[L],L,U)!==!1;);return Z}}E.exports=f},21549:(E,z,r)=>{var a=r(88557),f=r(53616),y=r(50078),N=1/0,Z=a&&1/y(new a([,-0]))[1]==N?function($){return new a($)}:f;E.exports=Z},41814:E=>{function z(r,a,f){for(var y=f-1,N=r.length;++y<N;)if(r[y]===a)return y;return-1}E.exports=z},23975:(E,z,r)=>{var a=r(27624),f=r(70230),y=r(79763);function N(Z){return f(Z)?y(Z):a(Z)}E.exports=N},79763:E=>{var z="\\ud800-\\udfff",r="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",f="\\u20d0-\\u20ff",y=r+a+f,N="\\ufe0e\\ufe0f",Z="["+z+"]",$="["+y+"]",b="\\ud83c[\\udffb-\\udfff]",L="(?:"+$+"|"+b+")",U="[^"+z+"]",Q="(?:\\ud83c[\\udde6-\\uddff]){2}",ee="[\\ud800-\\udbff][\\udc00-\\udfff]",ie="\\u200d",Ze=L+"?",ue="["+N+"]?",ge="(?:"+ie+"(?:"+[U,Q,ee].join("|")+")"+ue+Ze+")*",K=ue+Ze+ge,te="(?:"+[U+$+"?",$,Q,ee,Z].join("|")+")",ne=RegExp(b+"(?="+b+")|"+te+K,"g");function fe(ce){for(var he=ne.lastIndex=0;ne.test(ce);)++he;return he}E.exports=fe},80649:(E,z,r)=>{var a=r(8038),f=r(81947),y=Object.prototype,N=y.hasOwnProperty,Z=f(function($,b,L){N.call($,L)?$[L].push(b):a($,L,[b])});E.exports=Z},84714:(E,z,r)=>{var a=r(92558),f=r(130),y=r(44755),N=y&&y.isRegExp,Z=N?f(N):a;E.exports=Z},26253:(E,z,r)=>{var a=r(30013),f=r(28768),y=r(78905),N="[object String]";function Z($){return typeof $=="string"||!f($)&&y($)&&a($)==N}E.exports=Z},53616:E=>{function z(){}E.exports=z},181:(E,z,r)=>{var a=r(33293),f=r(30064),y=r(41182),N=r(26253),Z=r(23975),$="[object Map]",b="[object Set]";function L(U){if(U==null)return 0;if(y(U))return N(U)?Z(U):U.length;var Q=f(U);return Q==$||Q==b?U.size:a(U).length}E.exports=L},53604:(E,z,r)=>{var a=r(41342),f=r(91959),y=r(164),N=r(50455),Z=y(function($,b){if($==null)return[];var L=b.length;return L>1&&N($,b[0],b[1])?b=[]:L>2&&N(b[0],b[1],b[2])&&(b=[b[0]]),f($,a(b,1),[])});E.exports=Z},51046:(E,z,r)=>{var a=r(35554);function f(y){return a(y).toLowerCase()}E.exports=f},56201:(E,z,r)=>{var a=r(64112),f=r(78541),y=r(70230),N=r(95721),Z=r(84714),$=r(23975),b=r(42387),L=r(82970),U=r(35554),Q=30,ee="...",ie=/\w*$/;function Ze(ue,ge){var K=Q,te=ee;if(N(ge)){var ne="separator"in ge?ge.separator:ne;K="length"in ge?L(ge.length):K,te="omission"in ge?a(ge.omission):te}ue=U(ue);var fe=ue.length;if(y(ue)){var ce=b(ue);fe=ce.length}if(K>=fe)return ue;var he=K-$(te);if(he<1)return te;var Le=ce?f(ce,0,he).join(""):ue.slice(0,he);if(ne===void 0)return Le+te;if(ce&&(he+=Le.length-he),Z(ne)){if(ue.slice(he).search(ne)){var Xe,Tt=Le;for(ne.global||(ne=RegExp(ne.source,U(ie.exec(ne))+"g")),ne.lastIndex=0;Xe=ne.exec(Tt);)var le=Xe.index;Le=Le.slice(0,le===void 0?he:le)}}else if(ue.indexOf(a(ne),he)!=he){var at=Le.lastIndexOf(ne);at>-1&&(Le=Le.slice(0,at))}return Le+te}E.exports=Ze},36684:(E,z,r)=>{var a=r(75909);function f(y){return y&&y.length?a(y):[]}E.exports=f},64743:(E,z,r)=>{"use strict";r.d(z,{O:()=>f});var a=r(85682);const f=a.Wx},53917:(E,z,r)=>{"use strict";r.d(z,{A:()=>$});var a=r(56940),f=r(19681),y=r(65094);const N=(0,f.default)(y.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:b})=>b?"auto 1fr":"1fr"};
`,Z=(0,f.default)(y.x)`
  overflow-x: hidden;
`,$=({sideNav:b,children:L})=>(0,a.jsxs)(N,{hasSideNav:Boolean(b),children:[b,(0,a.jsx)(Z,{paddingBottom:10,children:L})]})},41301:(E,z,r)=>{"use strict";r.d(z,{Q:()=>N});var a=r(56940),f=r(19681),y=r(77856);const N=({options:$,...b})=>(0,a.jsx)(y.NU,{...b,children:$.map(L=>"children"in L?(0,a.jsx)(y.Ab,{label:L.label,values:L.children.map(U=>U.value.toString()),children:L.children.map(U=>(0,a.jsx)(Z,{value:U.value,children:U.label},U.value))},L.label):(0,a.jsx)(y.ML,{value:L.value,children:L.label},L.value))}),Z=(0,f.default)(y.ML)`
  padding-left: ${({theme:$})=>$.spaces[7]};
`},91096:(E,z,r)=>{"use strict";r.r(z),r.d(z,{A:()=>Ye,C:()=>Dt,a:()=>He,g:()=>m,i:()=>Yl,u:()=>De});var a=r(56940),f=r(75937),y=r(65094),N=r(71042),Z=r(81583),$=r(41301),b=r(66041),L=r(74065),U=r(7947),Q=r(78054),ee=r(11674),ie=r(24690),Ze=r(49135),ue=r(96820),ge=r(70821),K=r(54134),te=r(43669),ne=r(24059),fe=r(22884),ce=r(82180),he=r(47346),Le=r(5483),Xe=r(87773),Tt=r(72204),le=r(58400),at=r(91496),ka=r(97371),wa=r(44634),Wa=r(31220),za=r(72672),Ua=r(94224),yn=r(24091),qa=r(78506),Va=r(85682),Ga=r(64743),Ha=r(79119),Ya=r(9144),Ka=r(90019),Xa=r(53917),P=r(30956),Ja=r(41480),_=r(48288),vn=r(47474),Re=r(82018),V=r(19681),Qa=r(49623),de=r(51793);const _a=(0,V.default)(de.x)`
  display: grid;
  grid-template-columns: repeat(${({gridCols:e})=>e}, 1fr);
  ${({theme:e,gap:t})=>(0,Qa.Z)("gap",t,e)}
`,er=e=>{const{gap:t="0",gridCols:n=12,...s}=e;return(0,a.jsx)(_a,{gap:t,gridCols:n,...s})},tr=`${232/16}rem`,nr=(0,V.default)(er)`
  width: ${tr};
  background: ${({theme:e})=>e.colors.neutral100};
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  border-right: 1px solid ${({theme:e})=>e.colors.neutral200};
  z-index: 1;
`,ar=({ariaLabel:e,...t})=>(0,a.jsx)(nr,{"aria-label":e,as:"nav",...t});var mt=r(45216);const rr={DOWN:"ArrowDown",UP:"ArrowUp",RIGHT:"ArrowRight",LEFT:"ArrowLeft",ESCAPE:"Escape",ENTER:"Enter",SPACE:" ",TAB:"Tab",END:"End",HOME:"Home",DELETE:"Delete",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",CLEAR:"Clear"};var Je=r(14547);const sr=e=>{const t=(0,f.useRef)();return(0,f.useEffect)(()=>{t.current=e}),t.current},or=(0,V.default)(de.x)`
  height: 1px;
  border: none;
  /* If contained in a Flex parent we want to prevent the Divider to shink */
  flex-shrink: 0;
  ${({unsetMargin:e})=>e?"margin: 0;":""}
`,ir=({unsetMargin:e=!0,...t})=>(0,a.jsx)(or,{...t,background:"neutral150",as:"hr",unsetMargin:e}),lr=e=>(0,a.jsx)("form",{...e,role:"search"});var dr=r(35184);function ur(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function bn(...e){return t=>e.forEach(n=>ur(n,t))}function md(...e){return React.useCallback(bn(...e),e)}var xn=r(31254);const Cn=(0,f.createContext)({id:"",required:!1}),Tn=()=>(0,f.useContext)(Cn);var Ne=r(89093);const jn={S:6.5,M:10.5},cr=(0,f.forwardRef)(({endAction:e,startAction:t,disabled:n=!1,onChange:s,size:o="M",...l},d)=>{const{id:u,error:g,hint:c,name:p,required:h}=Tn();let x;g?x=`${u}-error`:c&&(x=`${u}-hint`);const C=Boolean(g),v=A=>{!n&&s&&s(A)};return(0,a.jsxs)(jt,{justifyContent:"space-between",hasError:C,disabled:n,children:[t?(0,a.jsx)(de.x,{paddingLeft:3,paddingRight:2,children:t}):null,(0,a.jsx)(mr,{id:u,name:p,ref:d,"aria-describedby":x,"aria-invalid":C,"aria-disabled":n,disabled:n,"data-disabled":n?"":void 0,hasLeftAction:Boolean(t),hasRightAction:Boolean(e),onChange:v,"aria-required":h,$size:o,...l}),e?(0,a.jsx)(de.x,{paddingLeft:2,paddingRight:3,children:e}):null]})}),mr=V.default.input`
  border: none;
  border-radius: ${({theme:e})=>e.borderRadius};
  padding-bottom: ${({$size:e})=>`${jn[e]/16}rem`};
  padding-left: ${({theme:e,hasLeftAction:t})=>t?0:e.spaces[4]};
  padding-right: ${({theme:e,hasRightAction:t})=>t?0:e.spaces[4]};
  padding-top: ${({$size:e})=>`${jn[e]/16}rem`};
  cursor: ${e=>e["aria-disabled"]?"not-allowed":void 0};

  color: ${({theme:e})=>e.colors.neutral800};
  font-weight: 400;
  font-size: ${e=>e.theme.fontSizes[2]};
  display: block;
  width: 100%;
  background: inherit;

  ::placeholder {
    color: ${({theme:e})=>e.colors.neutral500};
    opacity: 1;
  }

  &[aria-disabled='true'] {
    color: inherit;
  }

  //focus managed by InputWrapper
  &:focus {
    outline: none;
    box-shadow: none;
  }
`,jt=(0,V.default)(Ne.k)`
  border: 1px solid ${({theme:e,hasError:t})=>t?e.colors.danger600:e.colors.neutral200};
  border-radius: ${({theme:e})=>e.borderRadius};
  background: ${({theme:e})=>e.colors.neutral0};
  ${(0,xn.k3)()}

  ${({theme:e,disabled:t})=>t?(0,V.css)`
          color: ${e.colors.neutral600};
          background: ${e.colors.neutral150};
        `:void 0}
`,pt=V.default.div`
  border: 0;
  clip: rect(0 0 0 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
`,pr=(0,V.default)(Ne.k)`
  font-size: 1.6rem;
  padding: 0;
`,fr=(0,f.forwardRef)(({label:e,children:t,...n},s)=>(0,a.jsxs)(pr,{justifyContent:"unset",background:"transparent",borderStyle:"none",type:"button",...n,as:"button",ref:s,children:[(0,a.jsx)(pt,{as:"span",children:e}),(0,f.cloneElement)(t,{"aria-hidden":!0,focusable:!1})]})),gr=(0,f.forwardRef)(({children:e,name:t,error:n,hint:s,id:o,required:l=!1,...d},u)=>{const g=(0,Je.M)(o),c=(0,f.useMemo)(()=>({name:t,id:g,error:n,hint:s,required:l}),[n,g,s,t,l]);return(0,a.jsx)(de.x,{ref:u,...d,children:(0,a.jsx)(Cn.Provider,{value:c,children:e})})}),hr="[@strapi/design-system]:",yr=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${hr} once requires a function parameter`);return(...s)=>{n||(t(...s),n=!0)}};var $e=r(38863);const vr=yr(console.warn),br=(0,f.forwardRef)(({children:e,action:t,required:n,...s},o)=>{const{id:l,required:d}=Tn(),u=d||n;return n!==void 0&&vr('Deprecation warning: Usage of "required" prop in FieldLabel component is deprecated. This is discouraged and will be removed in the next major release. Please use the Field component to share the required prop.'),(0,a.jsxs)(xr,{ref:o,variant:"pi",textColor:"neutral800",htmlFor:l,fontWeight:"bold",as:"label",...s,children:[e,u&&(0,a.jsx)(Cr,{textColor:"danger600",children:"*"}),t&&(0,a.jsx)(Tr,{marginLeft:1,children:t})]})}),xr=(0,V.default)($e.Z)`
  display: flex;
  align-items: center;
`,Cr=(0,V.default)($e.Z)`
  line-height: 0;
`,Tr=(0,V.default)(Ne.k)`
  line-height: 0;

  svg path {
    fill: ${({theme:e})=>e.colors.neutral500};
  }
`,jr=(0,V.default)(dr.Z)`
  font-size: 0.5rem;
  path {
    fill: ${({theme:e})=>e.colors.neutral400};
  }
`,Mn=(0,V.default)(mt.Z)`
  font-size: 0.8rem;
  path {
    fill: ${({theme:e})=>e.colors.neutral800};
  }
`,Mr=V.default.div`
  border-radius: ${({theme:e})=>e.borderRadius};
  box-shadow: ${({theme:e})=>e.shadows.filterShadow};

  &:focus-within {
    ${Mn} {
      path {
        fill: ${({theme:e})=>e.colors.primary600};
      }
    }
  }

  ${jt} {
    border: 1px solid transparent;
  }

  ${(0,xn.k3)(jt)}
`,Rr=(0,f.forwardRef)(({name:e,size:t="M",children:n,value:s="",onClear:o,clearLabel:l,...d},u)=>{const g=(0,f.useRef)(null),c=s.length>0,p=x=>{o(x),g.current.focus()},h=bn(u,g);return(0,a.jsx)(Mr,{children:(0,a.jsxs)(gr,{name:e,children:[(0,a.jsx)(pt,{children:(0,a.jsx)(br,{children:n})}),(0,a.jsx)(cr,{ref:h,value:s,startAction:(0,a.jsx)(Mn,{"aria-hidden":!0}),size:t,endAction:c?(0,a.jsx)(fr,{label:l,onClick:p,children:(0,a.jsx)(jr,{})}):void 0,...d})]})})}),Ar=e=>{const[t,n]=(0,f.useState)(!1),s=(0,f.useRef)(null),o=()=>{typeof s.current=="number"&&(clearTimeout(s.current),s.current=null)};return(0,f.useEffect)(()=>()=>{o()},[]),{visible:t,onFocus:()=>{n(!0)},onBlur:()=>{n(!1)},onMouseEnter:()=>{s.current=setTimeout(()=>{n(!0)},e)},onMouseLeave:()=>{o(),n(!1)}}},We=8,Sr=(e,t)=>{const n=(e.width-t.width)/2,s=t.left-n,o=t.top+t.height+We+window.pageYOffset;return{left:s,top:o}},Zr=(e,t)=>{const n=(e.height-t.height)/2,s=t.left+t.width+We,o=t.top-n+window.pageYOffset;return{left:s,top:o}},Lr=(e,t)=>{const n=(e.height-t.height)/2,s=t.left-e.width-We,o=t.top-n+window.pageYOffset;return{left:s,top:o}},Nr=(e,t)=>{const n=(e.width-t.width)/2;let s=t.left-n,o=t.top-e.height-We+window.pageYOffset;const l=window.innerWidth-t.right;return t.left+e.width-l>window.innerWidth?(s=t.left-e.width-We,o=t.top+window.scrollY-t.height/2):s<0?(s=t.width+t.left+We,o=t.top+window.scrollY-e.height/2+We):o<0&&s>0&&(o=t.top+t.height+We),{left:s,top:o}},Fr=(e,t,n)=>{const s=e.getBoundingClientRect(),o=t.getBoundingClientRect();return n==="bottom"?Sr(s,o):n==="right"?Zr(s,o):n==="left"?Lr(s,o):Nr(s,o)},Er=(e,t)=>{const n=(0,f.useRef)(null),s=(0,f.useRef)(null);return(0,f.useLayoutEffect)(()=>{if(e){const o=n.current,l=s.current;if(o&&l){const d=Fr(o,l,t);o.style.left=`${d.left}px`,o.style.top=`${d.top}px`}}},[t,e]),{tooltipWrapperRef:n,toggleSourceRef:s}};var Or=r(48497);const Rn=f.forwardRef(({container:e=globalThis?.document?.body,...t},n)=>e?(0,Or.createPortal)((0,a.jsx)(de.x,{ref:n,...t}),e):null);Rn.displayName="Portal";const $r=(0,V.default)(de.x)`
  /* z-index exist because of its position inside Modals */
  z-index: 4;
  display: ${({visible:e})=>e?"revert":"none"};
`,Pr=({children:e,label:t,description:n,delay:s=500,position:o="top",id:l,...d})=>{const u=(0,Je.M)(l),g=(0,Je.M)(),{visible:c,...p}=Ar(s),{tooltipWrapperRef:h,toggleSourceRef:x}=Er(c,o),C=f.cloneElement(e,{tabIndex:0,"aria-labelledby":t?u:void 0,"aria-describedby":n?u:void 0,...p});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Rn,{children:(0,a.jsxs)($r,{id:u,background:"neutral900",hasRadius:!0,padding:2,role:"tooltip",ref:h,visible:c,position:"absolute",...d,children:[c&&(0,a.jsx)(pt,{id:g,children:n}),(0,a.jsx)($e.Z,{as:"p",variant:"pi",fontWeight:"bold",textColor:"neutral0",children:t||n})]})}),(0,a.jsx)("span",{ref:x,children:C})]})};var Ir=r(12160);const Dr="tertiary",rt="secondary",Br=["S","M","L"],kr=[Dr,rt],wr=f.forwardRef(({label:e,background:t,borderWidth:n,noBorder:s=!1,children:o,icon:l,disabled:d=!1,onClick:u,size:g=Br[0],"aria-label":c,variant:p=kr[0],...h},x)=>{const C=A=>{!d&&u&&u(A)},v=(0,a.jsxs)(An,{"aria-disabled":d,background:d?"neutral150":t,borderWidth:s?0:n,justifyContent:"center",...h,ref:x,size:g,onClick:C,variant:p,children:[(0,a.jsx)(pt,{as:"span",children:e??c}),f.cloneElement(l||o,{"aria-hidden":!0,focusable:!1})]});return e?(0,a.jsx)(Pr,{label:e,children:v}):v}),An=(0,V.default)(Ir.Y)`
  background-color: ${({theme:e,variant:t})=>{if(t===rt)return e.colors.primary100}};
  border-color: ${({theme:e,variant:t})=>t===rt?e.colors.primary200:e.colors.neutral200};
  height: ${({theme:e,size:t})=>e.sizes.button[t]};
  width: ${({theme:e,size:t})=>e.sizes.button[t]};

  svg {
    g,
    path {
      fill: ${({theme:e,variant:t})=>t===rt?e.colors.primary500:e.colors.neutral500};
    }
  }

  :hover,
  :focus {
    svg {
      g,
      path {
        fill: ${({theme:e,variant:t})=>t===rt?e.colors.primary600:e.colors.neutral600};
      }
    }
  }

  &[aria-disabled='true'] {
    svg {
      path {
        fill: ${({theme:e})=>e.colors.neutral600};
      }
    }
  }
`,pd=(0,V.default)(Ne.k)`
  & span:first-child button {
    border-left: 1px solid ${({theme:e})=>e.colors.neutral200};
    border-radius: ${({theme:e})=>`${e.borderRadius} 0 0 ${e.borderRadius}`};
  }

  & span:last-child button {
    border-radius: ${({theme:e})=>`0 ${e.borderRadius} ${e.borderRadius} 0`};
  }

  & ${An} {
    border-radius: 0;
    border-left: none;

    svg {
      path {
        fill: ${({theme:e})=>e.colors.neutral700};
      }
    }

    &:hover {
      background-color: ${({theme:e})=>e.colors.neutral100};

      svg {
        path {
          fill: ${({theme:e})=>e.colors.neutral800};
        }
      }
    }

    &:active {
      background-color: ${({theme:e})=>e.colors.neutral150};
      svg {
        path {
          fill: ${({theme:e})=>e.colors.neutral900};
        }
      }
    }

    &[aria-disabled='true'] {
      svg {
        path {
          fill: ${({theme:e})=>e.colors.neutral600};
        }
      }
    }
  }
`,Sn=(0,V.default)(ir)`
  width: ${24/16}rem;
  background-color: ${({theme:e})=>e.colors.neutral200};
`,Wr=({as:e="h2",label:t,searchLabel:n="",searchable:s=!1,onChange:o=()=>{},value:l="",onClear:d=()=>{},onSubmit:u=()=>{},id:g})=>{const[c,p]=(0,f.useState)(!1),h=sr(c),x=(0,Je.M)(g),C=(0,f.useRef)(void 0),v=(0,f.useRef)(void 0);(0,f.useEffect)(()=>{c&&C.current&&C.current.focus(),h&&!c&&v.current&&v.current.focus()},[c,h]);const A=()=>{p(F=>!F)},k=F=>{d(F),C.current.focus()},R=F=>{F.relatedTarget?.id!==x&&p(!1)},O=F=>{F.key===rr.ESCAPE&&p(!1)};return c?(0,a.jsxs)(de.x,{paddingLeft:4,paddingTop:5,paddingBottom:2,paddingRight:4,children:[(0,a.jsx)(lr,{children:(0,a.jsx)(Rr,{name:"searchbar",value:l,onChange:o,placeholder:"e.g: strapi-plugin-abcd",onKeyDown:O,ref:C,onBlur:R,onClear:k,onSubmit:u,clearLabel:"Clear",size:"S",children:n})}),(0,a.jsx)(de.x,{paddingLeft:2,paddingTop:4,children:(0,a.jsx)(Sn,{})})]}):(0,a.jsxs)(de.x,{paddingLeft:6,paddingTop:6,paddingBottom:2,paddingRight:4,children:[(0,a.jsxs)(Ne.k,{justifyContent:"space-between",alignItems:"flex-start",children:[(0,a.jsx)($e.Z,{variant:"beta",as:e,children:t}),s&&(0,a.jsx)(wr,{ref:v,onClick:A,label:n,icon:(0,a.jsx)(mt.Z,{})})]}),(0,a.jsx)(de.x,{paddingTop:4,children:(0,a.jsx)(Sn,{})})]})},zr=({children:e,spacing:t=2,horizontal:n=!1,...s})=>(0,a.jsx)(de.x,{paddingTop:2,paddingBottom:4,children:(0,a.jsx)(Ne.k,{as:"ol",gap:t,direction:n?"row":"column",alignItems:n?"center":"stretch",...s,children:f.Children.map(e,(o,l)=>(0,a.jsx)("li",{children:o},l))})});var Zn=r(70754);const Ln=(0,V.default)(Ne.k)`
  border: none;
  padding: 0;
  background: transparent;
`,Ur=V.default.div`
  display: flex;
  align-items: center;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,qr=({collapsable:e=!1,label:t,onClick:n=()=>{},ariaExpanded:s,ariaControls:o})=>e?(0,a.jsxs)(Ln,{as:"button",onClick:n,"aria-expanded":s,"aria-controls":o,textAlign:"left",children:[(0,a.jsx)(de.x,{paddingRight:1,children:(0,a.jsx)($e.Z,{variant:"sigma",textColor:"neutral600",children:t})}),e&&(0,a.jsx)(Ur,{rotated:s,children:(0,a.jsx)(Zn.Z,{"aria-hidden":!0})})]}):(0,a.jsx)(Ln,{children:(0,a.jsx)(de.x,{paddingRight:1,children:(0,a.jsx)($e.Z,{variant:"sigma",textColor:"neutral600",children:t})})}),Vr=(0,V.default)(Ne.k)`
  border-radius: ${({theme:e,size:t})=>t==="S"?"2px":e.borderRadius};
  height: ${({size:e,theme:t})=>t.sizes.badge[e]};
`,Gr=({active:e=!1,size:t="M",textColor:n="neutral600",backgroundColor:s="neutral150",children:o,minWidth:l=5,...d})=>{const u=t==="S"?1:2;return(0,a.jsx)(Vr,{inline:!0,alignItem:"center",justifyContent:"center",minWidth:l,paddingLeft:u,paddingRight:u,background:e?"primary200":s,size:t,...d,children:(0,a.jsx)($e.Z,{variant:"sigma",textColor:e?"primary600":n,children:o})})},Hr=(0,V.default)(de.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral500};
    }
  }
`,Yr=({collapsable:e=!1,label:t,badgeLabel:n,children:s,id:o})=>{const[l,d]=(0,f.useState)(!0),u=(0,Je.M)(o),g=()=>{d(c=>!c)};return(0,a.jsxs)(Ne.k,{direction:"column",alignItems:"stretch",gap:1,children:[(0,a.jsx)(Hr,{paddingLeft:6,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,a.jsxs)(de.x,{position:"relative",paddingRight:n?6:0,children:[(0,a.jsx)(qr,{onClick:g,ariaExpanded:l,ariaControls:u,collapsable:e,label:t}),n&&(0,a.jsx)(Gr,{backgroundColor:"neutral150",textColor:"neutral600",position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",children:n})]})}),(!e||l)&&(0,a.jsx)("ol",{id:u,children:f.Children.map(s,(c,p)=>(0,a.jsx)("li",{children:c},p))})]})},Kr=(0,V.default)(de.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,Xr=V.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,Jr=V.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,Qr=({label:e,children:t,id:n})=>{const[s,o]=(0,f.useState)(!0),l=(0,Je.M)(n),d=()=>{o(u=>!u)};return(0,a.jsxs)(de.x,{children:[(0,a.jsx)(Kr,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,a.jsx)(Ne.k,{justifyContent:"space-between",children:(0,a.jsxs)(Xr,{onClick:d,"aria-expanded":s,"aria-controls":l,children:[(0,a.jsx)(Jr,{rotated:s,children:(0,a.jsx)(Zn.Z,{"aria-hidden":!0})}),(0,a.jsx)(de.x,{paddingLeft:2,children:(0,a.jsx)($e.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800",children:e})})]})})}),s&&(0,a.jsx)("ul",{id:l,children:f.Children.map(t,(u,g)=>(0,a.jsx)("li",{children:u},g))})]})};var _r=r(27709),es=r(1005);const ts=(0,V.default)(de.x)`
  display: flex;
  align-items: center;
  justify-content: space-between;
  text-decoration: none;
  color: ${({theme:e})=>e.colors.neutral800};
  svg > * {
    fill: ${({theme:e})=>e.colors.neutral600};
  }

  &.active {
    ${({theme:e})=>`
      background-color: ${e.colors.primary100};
      border-right: 2px solid ${e.colors.primary600};
      svg > * {
        fill: ${e.colors.primary700};
      }
      ${$e.Z} {
        color: ${e.colors.primary700};
        font-weight: 500;
      }
      `}
  }

  &:focus-visible {
    outline-offset: -2px;
  }
`,Nn=(0,V.default)(_r.Z)`
  width: ${12/16}rem;
  height: ${4/16}rem;
  * {
    fill: ${({theme:e,$active:t})=>t?e.colors.primary600:e.colors.neutral600};
  }
`,ns=V.default.div`
  svg {
    height: ${12/16}rem;
    width: ${12/16}rem;
  }
`,Fn=f.forwardRef(({children:e,icon:t=null,withBullet:n=!1,as:s=es.f,isSubSectionChild:o=!1,...l},d)=>(0,a.jsxs)(ts,{as:s,icon:t,background:"neutral100",paddingLeft:o?9:7,paddingBottom:2,paddingTop:2,ref:d,...l,children:[(0,a.jsxs)(Ne.k,{children:[t?(0,a.jsx)(ns,{children:t}):(0,a.jsx)(Nn,{}),(0,a.jsx)(de.x,{paddingLeft:2,children:(0,a.jsx)($e.Z,{as:"span",children:e})})]}),n&&(0,a.jsx)(de.x,{as:Ne.k,paddingRight:4,children:(0,a.jsx)(Nn,{$active:!0})})]}));var as=r(37921),rs=r(63131),ft=r(36941),ss=r(49504),os=r(95584),is=r(66298),ls=r(20609),En=r(31941),ds=r(26484),us=r(23987),cs=r(85747),ms=r(55696),ps=r(13319),fs=r(11964),gs=r(16409),hs=r(93377),ys=r(14843),vs=r(31298),bs=r(54096),xs=r(11895),Cs=r(29727),Ts=r(13089),js=r(90104),Ms=r(30454),Rs=r(80778),As=r(76550),Ss=r(68475),Zs=r(39416),Ls=r(78806),Ns=r(79225),Fs=r(94682),Es=r(49461),Os=r(12161),$s=r(86810),Ps=r(11333),Is=r(27432),Ds=r(81420),Bs=r(58296),ks=r(66225),ws=r(49604),Ws=r(60649),zs=r(33362),Us=r(75030),qs=r(99130),Vs=r(27607),Gs=r(26081),Hs=r(5799),Ys=r(14582),Ks=r(56200),Xs=r(63494),Js=r(37007),Qs=r(49745),_s=r(14534),eo=r(59069),to=r(78111),no=r(50893),ao=r(76840),ro=r(86198),so=r(29093),oo=r(87156),io=r(63964),lo=r(94529),uo=r(17398),co=r(60845),mo=r(29817),po=r(81268),fo=r(42971),go=r(78966),ho=r(68497),yo=r(72197),vo=r(16361),bo=r(63172),On=r(22371),$n=r(28295),Pn=r(19290),xo=r(25577),Co=r(18424),To=r(27044),jo=r(63907),Mo=r(31127),Ro=r(43226),In=r(63564),Dn=r(25948),Bn=r(83324),Ao=r(71722),So=r(33695),Zo=r(79035),Lo=r(95227),No=r(92274),Fo=r(43108),Eo=r(75431),Oo=r(7192),$o=r(90302),Po=r(40353),ze=r(7047),Io=r(99311),Do=r(87887),Bo=r(87879),ko=r(25913),wo=r(14234),Wo=r(62803),zo=r(18936),Uo=r(23554),qo=r(73690),Vo=r(72865),Go=r(96e3),Ho=r(62812),Yo=r(52864),Ko=r(84763),Xo=r(82166),Jo=r(63854),Qo=r(8937),_o=r(90351),ei=r(26656),ti=r(80717),ni=r(16881),ai=r(8942),ri=r(3583),si=r(850),oi=r(93757),ii=r(33453),li=r(40745),di=r(65984),ui=r(47221),ci=r(97474),mi=r(19748),pi=r(40211),fi=r(81194),st=r(20696),gi=r(21061),hi=r(46023),kn=r(34082),yi=r(98867),gt=r(42694),vi=r(82299),bi=r(16834),wn=r(30288),Mt=r(49205),Wn=r(28108),xi=r(17330),Ci=r(30142),Ti=r(90492),ji=r(5218),zn=r(89454),Mi=r(59567),Ri=r(60794),Ai=r(24356),Si=r(68333),Ie=r(28829),M=r(19637),Rt=r(45641),w=r(333),Zi=r(80649),Un=r(21709),Li=r(181),i=r(14025),Ge=r(93484),Ni=r(37444),qn=r(51046),Fi=r(4549),At=r(12803),Vn=r(56201),S=r(42052),Ei=r(23330),Oi=r(36684),St=r(30913),$i=r(74419),Pi=r(32635),Gn=r(71999),Ii=r(53604);const m=e=>`${M.p}.${e}`,Hn=(0,f.createContext)(),De=()=>(0,f.useContext)(Hn),Yn=(0,f.createContext)(),He=()=>(0,f.useContext)(Yn),Di=()=>{const{components:e,componentsGroupedByCategory:t,contentTypes:n,isInDevelopmentMode:s,sortedContentTypesList:o,modifiedData:l,initialData:d}=De(),u=(0,P.useNotification)(),{trackUsage:g}=(0,P.useTracking)(),[c,p]=(0,f.useState)(""),{onOpenModalCreateSchema:h,onOpenModalEditCategory:x}=He(),{locale:C}=(0,_.Z)(),{startsWith:v}=(0,P.useFilter)(C,{sensitivity:"base"}),A=(0,P.useCollator)(C,{sensitivity:"base"}),k=!Object.keys(n).some(q=>n[q].isTemporary===!0)&&!Object.keys(e).some(q=>e[q].isTemporary===!0)&&Rt(l,d),R=()=>{k?(g("willCreateContentType"),h({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):W()},O=()=>{k?(g("willCreateSingleType"),h({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):W()},F=()=>{k?(g("willCreateComponent"),h({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):W()},W=()=>{u({type:"info",message:{id:m("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},Y=Object.entries(t).map(([q,ve])=>({name:q,title:q,isEditable:s,onClickEdit(X,re){X.stopPropagation(),k?x(re.name):W()},links:ve.map(X=>({name:X.uid,to:`/plugins/${M.p}/component-categories/${q}/${X.uid}`,title:X.schema.displayName})).sort((X,re)=>A.compare(X.title,re.title))})).sort((q,ve)=>A.compare(q.title,ve.title)),oe=o.filter(q=>q.visible);return{menu:[{name:"models",title:{id:`${m("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:s&&{id:`${m("button.model.create")}`,defaultMessage:"Create new collection type",onClick:R},links:oe.filter(q=>q.kind==="collectionType")},{name:"singleTypes",title:{id:`${m("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:s&&{id:`${m("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:O},links:oe.filter(q=>q.kind==="singleType")},{name:"components",title:{id:`${m("menu.section.components.name")}`,defaultMessage:"Components"},customLink:s&&{id:`${m("button.component.create")}`,defaultMessage:"Create a new component",onClick:F},links:Y}].map(q=>q.links.some(X=>Array.isArray(X.links))?{...q,links:q.links.map(X=>{const re=X.links.filter(se=>v(se.title,c));return re.length===0?null:{...X,links:re.sort((se,pe)=>A.compare(se.title,pe.title))}}).filter(Boolean)}:{...q,links:q.links.filter(X=>v(X.title,c)).sort((X,re)=>A.compare(X.title,re.title))}),searchValue:c,onSearchChange:p}},Bi=()=>{const{menu:e,searchValue:t,onSearchChange:n}=Di(),{formatMessage:s}=(0,_.Z)();return(0,a.jsxs)(ar,{ariaLabel:s({id:`${m("plugin.name")}`,defaultMessage:"Content-Types Builder"}),children:[(0,a.jsx)(Wr,{searchable:!0,value:t,onClear:()=>n(""),onChange:o=>n(o.target.value),label:s({id:`${m("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:s({id:"global.search",defaultMessage:"Search"})}),(0,a.jsx)(zr,{children:e.map(o=>(0,a.jsxs)(f.Fragment,{children:[(0,a.jsx)(Yr,{label:s({id:o.title.id,defaultMessage:o.title.defaultMessage}),collapsable:!0,badgeLabel:o.links.length.toString(),children:o.links.map(l=>l.links?(0,a.jsx)(Qr,{label:Ie(l.title),children:l.links.map(d=>(0,a.jsx)(Fn,{as:vn.NavLink,to:d.to,active:d.active,isSubSectionChild:!0,children:Ie(s({id:d.name,defaultMessage:d.title}))},d.name))},l.name):(0,a.jsx)(Fn,{as:vn.NavLink,to:l.to,active:l.active,children:Ie(s({id:l.name,defaultMessage:l.title}))},l.name))}),o.customLink&&(0,a.jsx)(y.x,{paddingLeft:7,children:(0,a.jsx)(N.A,{onClick:o.customLink.onClick,startIcon:(0,a.jsx)(Z.J,{as:ze.Z,width:(0,P.pxToRem)(8),height:(0,P.pxToRem)(8)}),marginTop:2,children:s({id:o.customLink.id,defaultMessage:o.customLink.defaultMessage})})})]},o.name))})]})},Kn=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),Zt=(e,t)=>e.find(({name:n})=>n===t),ki=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],Lt=({intlLabel:e,name:t,onChange:n,value:s})=>{const{formatMessage:o}=(0,_.Z)(),l=s===null||s.length===0?o({id:"global.none",defaultMessage:"None"}):[...s].sort().map(u=>Ie(u)).join(", "),d=e.id?o({id:e.id,defaultMessage:e.defaultMessage}):t;return(0,a.jsx)($.Q,{id:"select1",label:d,customizeContent:()=>l,onChange:u=>{u.length>0?n({target:{name:t,value:u,type:"allowed-types-select"}}):n({target:{name:t,value:null,type:"allowed-types-select"}})},options:ki,value:s||[]})};Lt.defaultProps={value:null},Lt.propTypes={intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}).isRequired,name:i.string.isRequired,onChange:i.func.isRequired,value:i.oneOfType([i.object,i.array])};const Xn={biginteger:st.Z,blocks:gi.Z,boolean:hi.Z,collectionType:kn.Z,component:yi.Z,contentType:kn.Z,date:gt.Z,datetime:gt.Z,decimal:st.Z,dynamiczone:vi.Z,email:bi.Z,enum:wn.Z,enumeration:wn.Z,file:Mt.Z,files:Mt.Z,float:st.Z,integer:st.Z,json:Wn.Z,JSON:Wn.Z,media:Mt.Z,number:st.Z,password:xi.Z,relation:Ci.Z,richtext:Ti.Z,singleType:ji.Z,string:zn.Z,text:zn.Z,time:gt.Z,timestamp:gt.Z,uid:Mi.Z},wi=(0,V.default)(y.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,Ye=({type:e,customField:t,...n})=>{const s=(0,P.useCustomFields)();let o=Xn[e];if(t){const{icon:l}=s.get(t);l&&(o=l)}return Xn[e]?(0,a.jsx)(wi,{height:(0,P.pxToRem)(24),width:(0,P.pxToRem)(32),shrink:0,...n,"aria-hidden":!0,children:(0,a.jsx)(y.x,{as:o})}):null};Ye.defaultProps={customField:null},Ye.propTypes={type:i.string.isRequired,customField:i.string};const Jn=(0,V.default)(y.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,Wi=["blocks"],zi=()=>(0,a.jsx)(b.k,{grow:1,justifyContent:"flex-end",children:(0,a.jsxs)(b.k,{gap:1,fontSizes:0,hasRadius:!0,background:"alternative100",padding:`${2/16}rem ${4/16}rem`,children:[(0,a.jsx)(Z.J,{width:`${10/16}rem`,height:`${10/16}rem`,as:Ri.Z,color:"alternative600"}),(0,a.jsx)(L.Z,{textColor:"alternative600",variant:"sigma",children:"New"})]})}),Nt=({type:e})=>{const{formatMessage:t}=(0,_.Z)(),{onClickSelectField:n}=He(),s=()=>{n({attributeType:e,step:e==="component"?"1":null})};return(0,a.jsx)(Jn,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:s,children:(0,a.jsxs)(b.k,{children:[(0,a.jsx)(Ye,{type:e}),(0,a.jsxs)(y.x,{paddingLeft:4,width:"100%",children:[(0,a.jsxs)(b.k,{justifyContent:"space-between",children:[(0,a.jsx)(L.Z,{fontWeight:"bold",children:t({id:m(`attribute.${e}`),defaultMessage:e})}),Wi.includes(e)&&(0,a.jsx)(zi,{})]}),(0,a.jsx)(b.k,{children:(0,a.jsx)(L.Z,{variant:"pi",textColor:"neutral600",children:t({id:m(`attribute.${e}.description`),defaultMessage:"A type for modeling data"})})})]})]})})};Nt.defaultProps={type:"text"},Nt.propTypes={type:i.string};const Qn=({attributes:e})=>(0,a.jsx)(U.k,{tagName:"button",children:(0,a.jsx)(b.k,{direction:"column",alignItems:"stretch",gap:8,children:e.map((t,n)=>(0,a.jsx)(Q.r,{gap:3,children:t.map(s=>(0,a.jsx)(ee.P,{col:6,children:(0,a.jsx)(Nt,{type:s})},s))},n))})});Qn.propTypes={attributes:i.array.isRequired};const _n=({customFieldUid:e,customField:t})=>{const{type:n,intlLabel:s,intlDescription:o}=t,{formatMessage:l}=(0,_.Z)(),{onClickSelectCustomField:d}=He(),u=()=>{d({attributeType:n,customFieldUid:e})};return(0,a.jsx)(Jn,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:u,children:(0,a.jsxs)(b.k,{children:[(0,a.jsx)(Ye,{type:n,customField:e}),(0,a.jsxs)(y.x,{paddingLeft:4,children:[(0,a.jsx)(b.k,{children:(0,a.jsx)(L.Z,{fontWeight:"bold",children:l(s)})}),(0,a.jsx)(b.k,{children:(0,a.jsx)(L.Z,{variant:"pi",textColor:"neutral600",children:l(o)})})]})]})})};_n.propTypes={customFieldUid:i.string.isRequired,customField:i.shape({type:i.string.isRequired,icon:i.func,intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired}).isRequired,intlDescription:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired}).isRequired}).isRequired};const Ui=(0,V.default)(y.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,qi=()=>(0,a.jsx)(b.k,{wrap:"wrap",gap:4,children:[...Array(4)].map((e,t)=>(0,a.jsx)(Ui,{height:"138px",width:"375px",hasRadius:!0},`empty-card-${t}`))}),Vi=()=>{const{formatMessage:e}=(0,_.Z)();return(0,a.jsxs)(y.x,{position:"relative",children:[(0,a.jsx)(qi,{}),(0,a.jsx)(y.x,{position:"absolute",top:6,width:"100%",children:(0,a.jsxs)(b.k,{alignItems:"center",justifyContent:"center",direction:"column",children:[(0,a.jsx)(Z.J,{as:Ai.Z,color:"",width:"160px",height:"88px"}),(0,a.jsx)(y.x,{paddingTop:6,paddingBottom:4,children:(0,a.jsxs)(y.x,{textAlign:"center",children:[(0,a.jsx)(L.Z,{variant:"delta",as:"p",textColor:"neutral600",children:e({id:m("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})}),(0,a.jsx)(y.x,{paddingTop:4,children:(0,a.jsx)(L.Z,{variant:"delta",as:"p",textColor:"neutral600",children:e({id:m("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."})})})]})}),(0,a.jsx)(ie.Q,{to:`/marketplace?${Fi.stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:(0,a.jsx)(ze.Z,{}),children:e({id:m("modalForm.empty.button"),defaultMessage:"Add custom fields"})})]})})]})},Gi=()=>{const{formatMessage:e}=(0,_.Z)(),t=(0,P.useCustomFields)(),n=Object.entries(t.getAll());if(!n.length)return(0,a.jsx)(Vi,{});const s=n.sort((o,l)=>o[1].name>l[1].name?1:-1);return(0,a.jsx)(U.k,{tagName:"button",children:(0,a.jsxs)(b.k,{direction:"column",alignItems:"stretch",gap:3,children:[(0,a.jsx)(Q.r,{gap:3,children:s.map(([o,l])=>(0,a.jsx)(ee.P,{col:6,children:(0,a.jsx)(_n,{customFieldUid:o,customField:l},o)},o))}),(0,a.jsx)(Ze.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0,children:e({id:m("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"})})]})})},ea=({attributes:e,forTarget:t,kind:n})=>{const{formatMessage:s}=(0,_.Z)(),o=m("modalForm.tabs.default"),l=m("modalForm.tabs.custom"),d=t.includes("component")?"component":n,u=m(`modalForm.sub-header.chooseAttribute.${d}`);return(0,a.jsx)(ue.f,{padding:7,children:(0,a.jsxs)(ge.v,{label:s({id:m("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple",children:[(0,a.jsxs)(b.k,{justifyContent:"space-between",children:[(0,a.jsx)(L.Z,{variant:"beta",as:"h2",children:s({id:u,defaultMessage:"Select a field"})}),(0,a.jsxs)(K.m,{children:[(0,a.jsx)(K.O,{children:s({id:o,defaultMessage:"Default"})}),(0,a.jsx)(K.O,{children:s({id:l,defaultMessage:"Custom"})})]})]}),(0,a.jsx)(y.x,{paddingBottom:6,children:(0,a.jsx)(te.i,{})}),(0,a.jsxs)(ne.n,{children:[(0,a.jsx)(ne.x,{children:(0,a.jsx)(Qn,{attributes:e})}),(0,a.jsx)(ne.x,{children:(0,a.jsx)(Gi,{})})]})]})})};ea.propTypes={attributes:i.array.isRequired,forTarget:i.string.isRequired,kind:i.string.isRequired};const Ft=({intlLabel:e,name:t,options:n,onChange:s,value:o})=>{const{formatMessage:l}=(0,_.Z)(),d=e.id?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):t,u=g=>{let c="";g==="true"&&(c=!0),g==="false"&&(c=!1),s({target:{name:t,value:c,type:"select-default-boolean"}})};return(0,a.jsx)(fe.P,{label:d,id:t,name:t,onChange:u,value:(o===null?"":o).toString(),children:n.map(({metadatas:{intlLabel:g,disabled:c,hidden:p},key:h,value:x})=>(0,a.jsx)(ce.W,{value:x,disabled:c,hidden:p,children:g.defaultMessage},h))})};Ft.defaultProps={value:null},Ft.propTypes={intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}).isRequired,name:i.string.isRequired,onChange:i.func.isRequired,options:i.arrayOf(i.shape({metadatas:i.shape({intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired}).isRequired,disabled:i.bool,hidden:i.bool}).isRequired,key:i.oneOfType([i.string,i.number]).isRequired,value:i.oneOfType([i.string,i.number]).isRequired}).isRequired).isRequired,value:i.any};const Hi=(0,V.default)(b.k)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,he.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${L.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,ot=({intlLabel:e,name:t,onChange:n,radios:s,value:o})=>{const{formatMessage:l}=(0,_.Z)();return(0,a.jsxs)(b.k,{direction:"column",alignItems:"stretch",gap:2,children:[(0,a.jsx)(L.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:t,as:"label",children:l(e)}),(0,a.jsx)(Hi,{gap:4,alignItems:"stretch",children:s.map(d=>(0,a.jsxs)("label",{htmlFor:d.value.toString(),className:"container",children:[(0,a.jsx)("input",{id:d.value.toString(),name:t,className:"option-input",checked:d.value===o,value:d.value,onChange:n,type:"radio"},d.value),(0,a.jsx)(y.x,{className:"option",padding:4,children:(0,a.jsxs)(b.k,{children:[(0,a.jsx)(y.x,{paddingRight:4,children:(0,a.jsx)("span",{className:"checkmark"})}),(0,a.jsxs)(b.k,{direction:"column",alignItems:"stretch",gap:2,children:[(0,a.jsx)(L.Z,{fontWeight:"bold",children:l(d.title)}),(0,a.jsx)(L.Z,{variant:"pi",textColor:"neutral600",children:l(d.description)})]})]})})]},d.value))})]})};ot.defaultProps={radios:[]},ot.propTypes={intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}).isRequired,name:i.string.isRequired,onChange:i.func.isRequired,radios:i.arrayOf(i.shape({title:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired}),description:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired}),value:i.any.isRequired})),value:i.oneOfType([i.string,i.bool]).isRequired};const ta=({onChange:e,name:t,...n})=>{const s=o=>{const l=o.target.value!=="false";e({target:{name:t,value:l,type:"boolean-radio-group"}})};return(0,a.jsx)(ot,{...n,name:t,onChange:s})};ta.propTypes={name:i.string.isRequired,onChange:i.func.isRequired};const Et=({error:e,intlLabel:t,modifiedData:n,name:s,onChange:o,value:l})=>{const{formatMessage:d}=(0,_.Z)(),[u,g]=(0,f.useState)(!!l||l===0),c=t.id?d({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):s,p=n.type==="biginteger"?"text":"number",h=!n.type,x=e?d({id:e,defaultMessage:e}):"";return(0,a.jsxs)(b.k,{direction:"column",alignItems:"stretch",gap:2,children:[(0,a.jsx)(Le.X,{id:s,name:s,onValueChange:C=>{o({target:{name:s,value:C?p==="text"?"0":0:null}}),g(k=>!k)},value:u,children:c}),u&&(0,a.jsx)(y.x,{paddingLeft:6,style:{maxWidth:"200px"},children:p==="text"?(0,a.jsx)(Xe.o,{"aria-label":c,disabled:h,error:x,id:s,name:s,onChange:o,value:l===null?"":l}):(0,a.jsx)(Tt.Y,{"aria-label":c,disabled:h,error:x,id:s,name:s,onValueChange:C=>{o({target:{name:s,value:C,type:p}})},value:l||0})})]})};Et.defaultProps={error:null,value:null},Et.propTypes={error:i.string,intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}).isRequired,modifiedData:i.object.isRequired,name:i.string.isRequired,onChange:i.func.isRequired,value:i.oneOfType([i.string,i.object,i.bool,i.number])};const na=({onChange:e,...t})=>{const n=(0,P.useNotification)(),s=o=>{n({type:"info",message:{id:m("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(o)};return(0,a.jsx)(ot,{...t,onChange:s})};na.propTypes={onChange:i.func.isRequired};const Ot=({description:e,disabled:t,intlLabel:n,isCreating:s,name:o,onChange:l,value:d})=>{const{formatMessage:u}=(0,_.Z)(),[g,c]=(0,f.useState)(!1),p=n.id?u({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):o,h=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=()=>c(A=>!A),C=()=>{l({target:{name:o,value:!1}}),x()},v=({target:{checked:A}})=>{if(!A&&!s){x();return}l({target:{name:o,value:A}})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Le.X,{checked:d,disabled:t,hint:h,name:o,onChange:v,children:p}),(0,a.jsx)(P.ConfirmDialog,{isOpen:g,onToggleDialog:x,onConfirm:C,bodyText:{id:m("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:m("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}})]})};Ot.defaultProps={description:null,disabled:!1,value:!1},Ot.propTypes={description:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}),disabled:i.bool,intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}).isRequired,isCreating:i.bool.isRequired,name:i.string.isRequired,onChange:i.func.isRequired,value:i.bool};const $t=({categoryName:e,deleteCategory:t,deleteComponent:n,deleteContentType:s,isAttributeModal:o,isCustomFieldModal:l,isComponentAttribute:d,isComponentToDzModal:u,isContentTypeModal:g,isCreatingComponent:c,isCreatingComponentAttribute:p,isCreatingComponentInDz:h,isCreatingComponentWhileAddingAField:x,isCreatingContentType:C,isCreatingDz:v,isComponentModal:A,isDzAttribute:k,isEditingAttribute:R,isEditingCategory:O,isInFirstComponentStep:F,onSubmitAddComponentAttribute:W,onSubmitAddComponentToDz:Y,onSubmitCreateContentType:oe,onSubmitCreateComponent:me,onSubmitCreateDz:q,onSubmitEditAttribute:ve,onSubmitEditCategory:X,onSubmitEditComponent:re,onSubmitEditContentType:se,onSubmitEditCustomFieldAttribute:pe,onSubmitEditDz:Be,onClickFinish:Ce})=>{const{formatMessage:ae}=(0,_.Z)();return u?h?(0,a.jsx)(le.z,{variant:"secondary",type:"submit",onClick:I=>{I.preventDefault(),Y(I,!0)},startIcon:(0,a.jsx)(ze.Z,{}),children:ae({id:m("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})}):(0,a.jsx)(le.z,{variant:"default",type:"submit",onClick:I=>{I.preventDefault(),Y(I,!1)},children:ae({id:"global.finish",defaultMessage:"Finish"})}):o&&k&&!v?(0,a.jsx)(le.z,{variant:"default",type:"submit",onClick:I=>{I.preventDefault(),Ce(),Be(I,!1)},children:ae({id:"global.finish",defaultMessage:"Finish"})}):o&&k&&v?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(le.z,{variant:"secondary",type:"submit",onClick:I=>{I.preventDefault(),q(I,!0)},startIcon:(0,a.jsx)(ze.Z,{}),children:ae({id:m("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"})})}):o&&d?F?(0,a.jsx)(le.z,{variant:"secondary",type:"submit",onClick:I=>{I.preventDefault(),W(I,!0)},children:ae(p?{id:m("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:m("form.button.select-component"),defaultMessage:"Configure the component"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(le.z,{variant:"secondary",type:"submit",onClick:I=>{I.preventDefault(),W(I,!0)},startIcon:(0,a.jsx)(ze.Z,{}),children:ae(x?{id:m("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:m("form.button.add-field"),defaultMessage:"Add another field"})}),(0,a.jsx)(le.z,{variant:"default",type:"button",onClick:I=>{I.preventDefault(),Ce(),W(I,!1)},children:ae({id:"global.finish",defaultMessage:"Finish"})})]}):o&&!d&&!k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(le.z,{type:R?"button":"submit",variant:"secondary",onClick:I=>{I.preventDefault(),ve(I,!0)},startIcon:(0,a.jsx)(ze.Z,{}),children:ae({id:m("form.button.add-field"),defaultMessage:"Add another field"})}),(0,a.jsx)(le.z,{type:R?"submit":"button",variant:"default",onClick:I=>{I.preventDefault(),Ce(),ve(I,!1)},children:ae({id:"global.finish",defaultMessage:"Finish"})})]}):g?(0,a.jsxs)(a.Fragment,{children:[!C&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(le.z,{type:"button",variant:"danger",onClick:I=>{I.preventDefault(),s()},children:ae({id:"global.delete",defaultMessage:"Delete"})}),(0,a.jsx)(le.z,{type:"submit",variant:"default",onClick:I=>{I.preventDefault(),se(I,!1)},children:ae({id:"global.finish",defaultMessage:"Finish"})})]}),C&&(0,a.jsx)(le.z,{type:"submit",variant:"secondary",onClick:I=>{I.preventDefault(),oe(I,!0)},children:ae({id:"global.continue",defaultMessage:"Continue"})})]}):A?(0,a.jsxs)(a.Fragment,{children:[!c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(le.z,{type:"button",variant:"danger",onClick:I=>{I.preventDefault(),n()},children:ae({id:"global.delete",defaultMessage:"Delete"})}),(0,a.jsx)(le.z,{type:"submit",variant:"default",onClick:I=>{I.preventDefault(),re(I,!1)},children:ae({id:"global.finish",defaultMessage:"Finish"})})]}),c&&(0,a.jsx)(le.z,{type:"submit",variant:"secondary",onClick:I=>{I.preventDefault(),me(I,!0)},children:ae({id:"global.continue",defaultMessage:"Continue"})})]}):O?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(le.z,{type:"button",variant:"danger",onClick:I=>{I.preventDefault(),t(e)},children:ae({id:"global.delete",defaultMessage:"Delete"})}),(0,a.jsx)(le.z,{type:"submit",variant:"default",onClick:I=>{I.preventDefault(),X(I)},children:ae({id:"global.finish",defaultMessage:"finish"})})]}):l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(le.z,{type:R?"button":"submit",variant:"secondary",onClick:I=>{I.preventDefault(),pe(I,!0)},startIcon:(0,a.jsx)(ze.Z,{}),children:ae({id:m("form.button.add-field"),defaultMessage:"Add another field"})}),(0,a.jsx)(le.z,{type:R?"submit":"button",variant:"default",onClick:I=>{I.preventDefault(),Ce(),pe(I,!1)},children:ae({id:"global.finish",defaultMessage:"Finish"})})]}):null};$t.defaultProps={categoryName:null,onClickFinish(){}},$t.propTypes={categoryName:i.string,deleteCategory:i.func.isRequired,deleteComponent:i.func.isRequired,deleteContentType:i.func.isRequired,isAttributeModal:i.bool.isRequired,isCustomFieldModal:i.bool.isRequired,isComponentAttribute:i.bool.isRequired,isComponentModal:i.bool.isRequired,isComponentToDzModal:i.bool.isRequired,isContentTypeModal:i.bool.isRequired,isCreatingComponent:i.bool.isRequired,isCreatingComponentAttribute:i.bool.isRequired,isCreatingComponentInDz:i.bool.isRequired,isCreatingComponentWhileAddingAField:i.bool.isRequired,isCreatingContentType:i.bool.isRequired,isCreatingDz:i.bool.isRequired,isDzAttribute:i.bool.isRequired,isEditingAttribute:i.bool.isRequired,isEditingCategory:i.bool.isRequired,isInFirstComponentStep:i.bool.isRequired,onSubmitAddComponentAttribute:i.func.isRequired,onSubmitAddComponentToDz:i.func.isRequired,onSubmitCreateContentType:i.func.isRequired,onSubmitCreateComponent:i.func.isRequired,onSubmitCreateDz:i.func.isRequired,onSubmitEditAttribute:i.func.isRequired,onSubmitEditCategory:i.func.isRequired,onSubmitEditComponent:i.func.isRequired,onSubmitEditContentType:i.func.isRequired,onSubmitEditCustomFieldAttribute:i.func.isRequired,onSubmitEditDz:i.func.isRequired,onClickFinish:i.func};const Pt=({actionType:e,attributeName:t,attributeType:n,categoryName:s,contentTypeKind:o,dynamicZoneTarget:l,forTarget:d,modalType:u,targetUid:g,customFieldUid:c,showBackLink:p})=>{const{formatMessage:h}=(0,_.Z)(),{modifiedData:x}=De(),{onOpenModalAddField:C}=He();let v,A=[];const k=x?.[d]?.[g]||x?.[d]||null;let R=k?.schema.displayName;if(u==="contentType"&&(v=o),["component","editCategory"].includes(u)&&(v="component"),["component","contentType"].includes(u)){let F=m(`modalForm.component.header-${e}`);return u==="contentType"&&(F=m(`modalForm.${o}.header-create`)),e==="edit"&&(F=m("modalForm.header-edit")),(0,a.jsx)(at.x,{children:(0,a.jsxs)(b.k,{children:[(0,a.jsx)(y.x,{children:(0,a.jsx)(Ye,{type:v})}),(0,a.jsx)(y.x,{paddingLeft:3,children:(0,a.jsx)(L.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title",children:h({id:F},{name:R})})})]})})}return A=[{label:R,info:{category:k?.category||null,name:k?.schema.displayName}}],u==="chooseAttribute"&&(v=["component","components"].includes(d)?"component":k.schema.kind),u==="addComponentToDynamicZone"&&(v="dynamiczone",A.push({label:l})),(u==="attribute"||u==="customField")&&(v=n,A.push({label:t})),u==="editCategory"&&(A=[{label:h({id:m("modalForm.header.categories"),defaultMessage:"Categories"})},{label:s}]),(0,a.jsx)(at.x,{children:(0,a.jsxs)(b.k,{gap:3,children:[p&&(0,a.jsx)(P.Link,{"aria-label":h({id:m("modalForm.header.back"),defaultMessage:"Back"}),startIcon:(0,a.jsx)(En.Z,{}),onClick:()=>C({forTarget:d,targetUid:g}),to:"#back"}),(0,a.jsx)(Ye,{type:v,customField:c}),(0,a.jsx)(as.O,{label:A.map(({label:F})=>F).join(","),children:A.map(({label:F,info:W},Y,oe)=>{if(F=Ie(F),!F)return null;const me=`${F}.${Y}`;return W?.category&&(F=`${F} (${Ie(W.category)} - ${Ie(W.name)})`),(0,a.jsx)(rs.$,{isCurrent:Y===oe.length-1,children:F},me)})})]})})};Pt.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null,showBackLink:!1},Pt.propTypes={actionType:i.string,attributeName:i.string,attributeType:i.string,categoryName:i.string,contentTypeKind:i.string,dynamicZoneTarget:i.string,forTarget:i.oneOf(["contentType","component","components"]),modalType:i.string.isRequired,targetUid:i.string,customFieldUid:i.string,showBackLink:i.bool};const Yi=({modalType:e,forTarget:t,kind:n,actionType:s,step:o})=>{switch(e){case"chooseAttribute":return m(`modalForm.sub-header.chooseAttribute.${t.includes("component")?"component":n||"collectionType"}`);case"attribute":return m(`modalForm.sub-header.attribute.${s}${o!=="null"&&o!==null&&s!=="edit"?".step":""}`);case"customField":return m(`modalForm.sub-header.attribute.${s}`);case"addComponentToDynamicZone":return m("modalForm.sub-header.addComponentToDynamicZone");default:return m("configurations")}},It=({actionType:e,modalType:t,forTarget:n,kind:s,step:o,attributeType:l,attributeName:d,customField:u})=>{const{formatMessage:g}=(0,_.Z)(),c=t==="customField"?u.intlLabel:{id:m(`attribute.${l}`)};return(0,a.jsxs)(b.k,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1,children:[(0,a.jsx)(L.Z,{as:"h2",variant:"beta",children:g({id:Yi({actionType:e,forTarget:n,kind:s,step:o,modalType:t}),defaultMessage:"Add new field"},{type:Ie(g(c)),name:Ie(d),step:o})}),(0,a.jsx)(L.Z,{variant:"pi",textColor:"neutral600",children:g({id:m(`attribute.${l}.description`),defaultMessage:"A type for modeling data"})})]})};It.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},It.propTypes={actionType:i.string,modalType:i.string,forTarget:i.string,kind:i.string,step:i.string,attributeType:i.string,attributeName:i.string,customField:i.object};const Dt={alien:ss.Z,apps:os.Z,archive:is.Z,arrowDown:ls.Z,arrowLeft:En.Z,arrowRight:ds.Z,arrowUp:us.Z,attachment:cs.Z,bell:ms.Z,bold:ps.Z,book:fs.Z,briefcase:gs.Z,brush:hs.Z,bulletList:ys.Z,calendar:vs.Z,car:bs.Z,cast:xs.Z,chartBubble:Cs.Z,chartCircle:Ts.Z,chartPie:js.Z,check:Ms.Z,clock:Rs.Z,cloud:As.Z,code:Ss.Z,cog:Zs.Z,collapse:Ls.Z,command:Ns.Z,connector:Fs.Z,crop:Es.Z,crown:Os.Z,cube:$s.Z,cup:Ps.Z,cursor:Is.Z,dashboard:Ds.Z,database:Bs.Z,discuss:ks.Z,doctor:ws.Z,earth:Ws.Z,emotionHappy:zs.Z,emotionUnhappy:Us.Z,envelop:qs.Z,exit:Vs.Z,expand:Gs.Z,eye:Hs.Z,feather:Ys.Z,file:Ks.Z,fileError:Xs.Z,filePdf:Js.Z,filter:Qs.Z,folder:_s.Z,gate:eo.Z,gift:to.Z,globe:no.Z,grid:ao.Z,handHeart:ro.Z,hashtag:so.Z,headphone:oo.Z,heart:io.Z,house:lo.Z,information:uo.Z,italic:co.Z,key:mo.Z,landscape:po.Z,layer:fo.Z,layout:go.Z,lightbulb:ho.Z,link:yo.Z,lock:vo.Z,magic:bo.Z,manyToMany:On.Z,manyToOne:$n.Z,manyWays:Pn.Z,medium:xo.Z,message:Co.Z,microphone:To.Z,monitor:jo.Z,moon:Mo.Z,music:Ro.Z,oneToMany:In.Z,oneToOne:Dn.Z,oneWay:Bn.Z,paint:Ao.Z,paintBrush:So.Z,paperPlane:Zo.Z,pencil:Lo.Z,phone:No.Z,picture:Fo.Z,pin:Eo.Z,pinMap:Oo.Z,plane:$o.Z,play:Po.Z,plus:ze.Z,priceTag:Io.Z,puzzle:Do.Z,question:Bo.Z,quote:ko.Z,repeat:wo.Z,restaurant:Wo.Z,rocket:zo.Z,rotate:Uo.Z,scissors:qo.Z,search:mt.Z,seed:Vo.Z,server:Go.Z,shield:Ho.Z,shirt:Yo.Z,shoppingCart:Ko.Z,slideshow:Xo.Z,stack:Jo.Z,star:Qo.Z,store:_o.Z,strikeThrough:ei.Z,sun:ti.Z,television:ni.Z,thumbDown:ai.Z,thumbUp:ri.Z,train:si.Z,twitter:oi.Z,typhoon:ii.Z,underline:li.Z,user:di.Z,volumeMute:ui.Z,volumeUp:ci.Z,walk:mi.Z,wheelchair:pi.Z,write:fi.Z},Ki=(0,V.default)(b.k)`
  label {
    ${he.k3}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,aa=({iconKey:e,name:t,onChange:n,isSelected:s,ariaLabel:o})=>(0,a.jsx)(ka.g,{name:t,required:!1,children:(0,a.jsxs)(wa.Q,{htmlFor:e,id:`${e}-label`,children:[(0,a.jsxs)(Wa.T,{children:[(0,a.jsx)(za._,{type:"radio",id:e,name:t,checked:s,onChange:n,value:e,"aria-checked":s,"aria-labelledby":`${e}-label`}),o]}),(0,a.jsx)(b.k,{padding:2,cursor:"pointer",hasRadius:!0,background:s&&"primary200",children:(0,a.jsx)(Z.J,{as:Dt[e],color:s?"primary600":"neutral300"})})]})});aa.propTypes={iconKey:i.string.isRequired,name:i.string.isRequired,onChange:i.func.isRequired,isSelected:i.bool.isRequired,ariaLabel:i.string.isRequired};const Bt=({intlLabel:e,name:t,onChange:n,value:s})=>{const{formatMessage:o}=(0,_.Z)(),[l,d]=(0,f.useState)(!1),[u,g]=(0,f.useState)(""),c=Object.keys(Dt),[p,h]=(0,f.useState)(c),x=(0,f.useRef)(null),C=(0,f.useRef)(null),v=()=>{d(!l)},A=({target:{value:O}})=>{g(O),h(()=>c.filter(F=>F.toLowerCase().includes(O.toLowerCase())))},k=()=>{v(),g(""),h(c)},R=()=>{n({target:{name:t,value:""}})};return(0,f.useEffect)(()=>{l&&C.current.focus()},[l]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(b.k,{justifyContent:"space-between",paddingBottom:2,children:[(0,a.jsx)(L.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",as:"label",children:o(e)}),(0,a.jsxs)(b.k,{gap:1,children:[l?(0,a.jsx)(Ua.w,{ref:C,name:"searchbar",size:"S",placeholder:o({id:m("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{u||v()},onChange:A,value:u,onClear:k,clearLabel:o({id:m("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"}),children:o({id:m("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})}):(0,a.jsx)(yn.h,{ref:x,onClick:v,"aria-label":o({id:m("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),icon:(0,a.jsx)(mt.Z,{}),noBorder:!0}),s&&(0,a.jsx)(qa.u,{description:o({id:m("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"}),children:(0,a.jsx)(yn.h,{onClick:R,"aria-label":o({id:m("IconPicker.remove.button"),defaultMessage:"Remove the selected icon button"}),icon:(0,a.jsx)(Si.Z,{}),noBorder:!0})})]})]}),(0,a.jsx)(Ki,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center",children:p.length>0?p.map(O=>(0,a.jsx)(aa,{iconKey:O,name:t,onChange:n,isSelected:O===s,ariaLabel:o({id:m("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:O})},O)):(0,a.jsx)(y.x,{padding:4,grow:2,children:(0,a.jsx)(L.Z,{variant:"delta",textColor:"neutral600",textAlign:"center",children:o({id:m("IconPicker.emptyState.label"),defaultMessage:"No icon found"})})})})]})};Bt.defaultProps={value:""},Bt.propTypes={intlLabel:i.object.isRequired,name:i.string.isRequired,onChange:i.func.isRequired,value:i.string};const kt=({description:e,error:t,intlLabel:n,modifiedData:s,name:o,onChange:l,value:d})=>{const{formatMessage:u}=(0,_.Z)(),g=(0,f.useRef)(l),c=s?.displayName||"";(0,f.useEffect)(()=>{if(c){const C=(0,M.n)(c);try{const v=At(C,2);g.current({target:{name:o,value:v}})}catch{g.current({target:{name:o,value:C}})}}else g.current({target:{name:o,value:""}})},[c,o]);const p=t?u({id:t,defaultMessage:t}):"",h=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=u(n);return(0,a.jsx)(Xe.o,{error:p,label:x,id:o,hint:h,name:o,onChange:l,value:d||""})};kt.defaultProps={description:null,error:null,value:null},kt.propTypes={description:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}),error:i.string,intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}).isRequired,modifiedData:i.object.isRequired,name:i.string.isRequired,onChange:i.func.isRequired,value:i.string};const wt=({oneThatIsCreatingARelationWithAnother:e,target:t})=>{const{contentTypes:n,sortedContentTypesList:s}=De(),o=(0,Ge.useDispatch)(),l=s.filter(Kn),{plugin:d=null,schema:{displayName:u}={displayName:"error"}}=n?.[t]??{},g=({uid:c,plugin:p,title:h,restrictRelationsTo:x})=>()=>{const C=p?`${p}_${h}`:h;o({type:M.O,target:{value:c,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:C,targetContentTypeAllowedRelations:x}})};return(0,a.jsxs)(ft.fC,{children:[(0,a.jsx)(Xi,{children:`${u} ${d?`(from: ${d})`:""}`}),(0,a.jsx)(ft.VY,{zIndex:5,children:l.map(({uid:c,title:p,restrictRelationsTo:h,plugin:x})=>(0,a.jsxs)(ft.ck,{onSelect:g({uid:c,plugin:x,title:p,restrictRelationsTo:h}),children:[p,"\xA0",x&&(0,a.jsxs)(a.Fragment,{children:["(from: ",x,")"]})]},c))})]})};wt.defaultProps={target:null},wt.propTypes={oneThatIsCreatingARelationWithAnother:i.string.isRequired,target:i.string};const Xi=(0,V.default)(ft.xz)`
  svg {
    width: ${6/16}rem;
    height: ${4/16}rem;
  }
`,ht=({disabled:e,error:t,header:n,isMain:s,name:o,onChange:l,oneThatIsCreatingARelationWithAnother:d,target:u,value:g})=>(0,a.jsxs)(y.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200",children:[(0,a.jsx)(b.k,{paddingTop:s?4:1,paddingBottom:s?3:1,justifyContent:"center",children:s?(0,a.jsx)(L.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",children:n}):(0,a.jsx)(wt,{target:u,oneThatIsCreatingARelationWithAnother:d})}),(0,a.jsx)(te.i,{background:"neutral200"}),(0,a.jsx)(y.x,{padding:4,children:(0,a.jsx)(P.GenericInput,{disabled:e,error:t?.id||null,intlLabel:{id:m("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:o,onChange:l,type:"text",value:g})})]});ht.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},ht.propTypes={disabled:i.bool,error:i.object,header:i.string,isMain:i.bool,name:i.string.isRequired,onChange:i.func,oneThatIsCreatingARelationWithAnother:i.string,target:i.string,value:i.string};const Ji=(0,V.default)(y.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Qi=(0,V.default)(y.x)`
  background: ${({theme:e,isSelected:t})=>e.colors[t?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,_i=(0,V.default)(b.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,el={oneWay:Bn.Z,oneToOne:Dn.Z,oneToMany:In.Z,manyToOne:$n.Z,manyToMany:On.Z,manyWay:Pn.Z},Wt=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:t,relationType:n,target:s})=>{const o=(0,Ge.useDispatch)(),{formatMessage:l}=(0,_.Z)(),{contentTypes:d,modifiedData:u}=De(),g=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],c=["oneWay","manyWay"],h=(e==="contentType"?w(u,[e,"schema","kind"],""):e)==="collectionType"?g:c,x=n==="manyToOne",C=w(d,[s,"schema","displayName"],"unknown"),v=x?C:t,A=x?t:C,k=At(v,n==="manyToMany"?2:1),R=w(d,[s,"schema","restrictRelationsTo"],null),O=At(A,["manyToMany","oneToMany","manyToOne","manyWay"].includes(n)?2:1);return n?(0,a.jsxs)(b.k,{style:{flex:1},children:[(0,a.jsx)(Ji,{children:(0,a.jsx)(b.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center",children:(0,a.jsx)(U.k,{tagName:"button",children:(0,a.jsx)(b.k,{gap:3,children:h.map(F=>{const W=el[F],Y=R===null||R.includes(F);return(0,a.jsx)(Qi,{as:"button",isSelected:n===F,disabled:!Y,onClick:()=>{Y&&o({type:M.a,target:{oneThatIsCreatingARelationWithAnother:t,targetContentType:s,value:F}})},padding:2,type:"button",children:(0,a.jsx)(W,{},F)},F)})})})})}),(0,a.jsxs)(_i,{justifyContent:"center",children:[(0,a.jsxs)(L.Z,{children:[Vn(k,{length:24}),"\xA0"]}),(0,a.jsxs)(L.Z,{textColor:"primary600",children:[l({id:m(`relation.${n}`)}),"\xA0"]}),(0,a.jsx)(L.Z,{children:Vn(O,{length:24})})]})]}):null};Wt.defaultProps={relationType:null,target:null},Wt.propTypes={naturePickerType:i.string.isRequired,oneThatIsCreatingARelationWithAnother:i.string.isRequired,relationType:i.string,target:i.string};const ra=({formErrors:e,mainBoxHeader:t,modifiedData:n,naturePickerType:s,onChange:o})=>{const l=(0,M.g)(n.relation,n.targetAttribute);return(0,a.jsxs)(b.k,{style:{position:"relative"},children:[(0,a.jsx)(ht,{isMain:!0,header:t,error:e?.name||null,name:"name",onChange:o,value:n?.name||""}),(0,a.jsx)(Wt,{naturePickerType:s,oneThatIsCreatingARelationWithAnother:t,relationType:l,target:n.target}),(0,a.jsx)(ht,{disabled:["oneWay","manyWay"].includes(l),error:e?.targetAttribute||null,name:"targetAttribute",onChange:o,oneThatIsCreatingARelationWithAnother:t,target:n.target,value:n?.targetAttribute||""})]})};ra.propTypes={formErrors:i.object.isRequired,mainBoxHeader:i.string.isRequired,modifiedData:i.object.isRequired,naturePickerType:i.string.isRequired,onChange:i.func.isRequired};const zt=({error:e,intlLabel:t,name:n,onChange:s,value:o})=>{const{formatMessage:l}=(0,_.Z)(),{allComponentsCategories:d}=De(),[u,g]=(0,f.useState)(d),c=e?l({id:e,defaultMessage:e}):"",p=l(t),h=C=>{s({target:{name:n,value:C,type:"select-category"}})},x=C=>{g(v=>[...v,C]),h(C)};return(0,a.jsx)(Va.XU,{error:c,id:n,label:p,name:n,onChange:h,onCreateOption:x,value:o,children:u.map(C=>(0,a.jsx)(Ga.O,{value:C,children:C},C))})};zt.defaultProps={error:null,value:null},zt.propTypes={error:i.string,intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}).isRequired,name:i.string.isRequired,onChange:i.func.isRequired,value:i.string};const Ut=({error:e,intlLabel:t,isAddingAComponentToAnotherComponent:n,isCreating:s,isCreatingComponentWhileAddingAField:o,componentToCreate:l,name:d,onChange:u,targetUid:g,forTarget:c,value:p})=>{const{formatMessage:h}=(0,_.Z)(),x=e?h({id:e,defaultMessage:e}):"",C=h(t),{componentsGroupedByCategory:v,componentsThatHaveOtherComponentInTheirAttributes:A}=De(),k=["component","components"].includes(c);let R=Object.entries(v).reduce((O,F)=>{const[W,Y]=F,oe=Y.map(me=>({uid:me.uid,label:me.schema.displayName,categoryName:W}));return[...O,...oe]},[]);return n&&(R=R.filter(O=>!A.includes(O.uid))),k&&(R=R.filter(O=>O.uid!==g)),o&&(R=[{uid:p,label:l.displayName,categoryName:l.category}]),(0,a.jsx)(fe.P,{disabled:o||!s,error:x,label:C,id:d,name:d,onChange:O=>{u({target:{name:d,value:O,type:"select-category"}})},value:p||"",children:R.map(O=>(0,a.jsx)(ce.W,{value:O.uid,children:`${O.categoryName} - ${O.label}`},O.uid))})};Ut.defaultProps={componentToCreate:null,error:null},Ut.propTypes={componentToCreate:i.object,forTarget:i.string.isRequired,error:i.string,intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}).isRequired,isAddingAComponentToAnotherComponent:i.bool.isRequired,isCreating:i.bool.isRequired,isCreatingComponentWhileAddingAField:i.bool.isRequired,name:i.string.isRequired,onChange:i.func.isRequired,targetUid:i.string.isRequired,value:i.string.isRequired};const sa=({dynamicZoneTarget:e,intlLabel:t,name:n,onChange:s,value:o})=>{const{formatMessage:l}=(0,_.Z)(),{componentsGroupedByCategory:d,modifiedData:u}=De(),c=(Zt(u.contentType.schema.attributes,e)||{}).components||[],p=Object.keys(d).reduce((C,v)=>{const A=d[v].filter(({uid:k})=>!c.includes(k));return A.length>0&&(C[v]=A),C},{}),h=Object.entries(p).reduce((C,v)=>{const[A,k]=v,R={label:A,children:k.map(({uid:O,schema:{displayName:F}})=>({label:F,value:O}))};return C.push(R),C},[]),x=l({id:m("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:o?.length??0});return(0,a.jsx)($.Q,{id:"select1",label:l(t),customizeContent:()=>x,name:n,onChange:C=>{s({target:{name:n,value:C,type:"select-components"}})},options:h,value:o||[]})};sa.propTypes={intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}).isRequired,dynamicZoneTarget:i.string.isRequired,name:i.string.isRequired,onChange:i.func.isRequired,value:i.array.isRequired};const qt=({intlLabel:e,error:t,modifiedData:n,name:s,onChange:o,options:l,value:d})=>{const{formatMessage:u}=(0,_.Z)(),g=u(e),c=t?u({id:t,defaultMessage:t}):"",p=h=>{o({target:{name:s,value:h,type:"select"}}),d&&n.default!==void 0&&n.default!==null&&o({target:{name:"default",value:null}})};return(0,a.jsx)(fe.P,{error:c,label:g,id:s,name:s,onChange:p,value:d||"",children:l.map(({metadatas:{intlLabel:h,disabled:x,hidden:C},key:v,value:A})=>(0,a.jsx)(ce.W,{value:A,disabled:x,hidden:C,children:u({id:h.id,defaultMessage:h.defaultMessage},h.values)},v))})};qt.defaultProps={error:void 0,value:""},qt.propTypes={error:i.string,intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}).isRequired,modifiedData:i.object.isRequired,name:i.string.isRequired,onChange:i.func.isRequired,options:i.arrayOf(i.shape({metadatas:i.shape({intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired}).isRequired,disabled:i.bool,hidden:i.bool}).isRequired,key:i.oneOfType([i.string,i.number]).isRequired,value:i.oneOfType([i.string,i.number]).isRequired}).isRequired).isRequired,value:i.string};const Vt=({intlLabel:e,error:t,modifiedData:n,name:s,onChange:o,options:l,value:d})=>{const{formatMessage:u}=(0,_.Z)(),g=u(e),c=t?u({id:t,defaultMessage:t}):"",p=h=>{o({target:{name:s,value:h,type:"select"}}),d&&(h==="biginteger"&&d!=="biginteger"&&(n.default!==void 0&&n.default!==null&&o({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&o({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&o({target:{name:"min",value:null}})),["decimal","float","integer"].includes(h)&&d==="biginteger"&&(n.default!==void 0&&n.default!==null&&o({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&o({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&o({target:{name:"min",value:null}})))};return(0,a.jsx)(fe.P,{error:c,label:g,id:s,name:s,onChange:p,value:d||"",children:l.map(({metadatas:{intlLabel:h,disabled:x,hidden:C},key:v,value:A})=>(0,a.jsx)(ce.W,{value:A,disabled:x,hidden:C,children:u(h)},v))})};Vt.defaultProps={error:void 0,value:""},Vt.propTypes={error:i.string,intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}).isRequired,modifiedData:i.object.isRequired,name:i.string.isRequired,onChange:i.func.isRequired,options:i.arrayOf(i.shape({metadatas:i.shape({intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired}).isRequired,disabled:i.bool,hidden:i.bool}).isRequired,key:i.oneOfType([i.string,i.number]).isRequired,value:i.oneOfType([i.string,i.number]).isRequired}).isRequired).isRequired,value:i.string};const Gt=({description:e,error:t,intlLabel:n,modifiedData:s,name:o,onChange:l,value:d})=>{const{formatMessage:u}=(0,_.Z)(),g=(0,f.useRef)(l),c=s?.displayName||"";(0,f.useEffect)(()=>{c?g.current({target:{name:o,value:(0,M.n)(c)}}):g.current({target:{name:o,value:""}})},[c,o]);const p=t?u({id:t,defaultMessage:t}):"",h=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=u(n);return(0,a.jsx)(Xe.o,{error:p,label:x,id:o,hint:h,name:o,onChange:l,value:d||""})};Gt.defaultProps={description:null,error:null,value:null},Gt.propTypes={description:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}),error:i.string,intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}).isRequired,modifiedData:i.object.isRequired,name:i.string.isRequired,onChange:i.func.isRequired,value:i.string};const Ht=({form:e,formErrors:t,genericInputProps:n,modifiedData:s,onChange:o})=>{const{formatMessage:l}=(0,_.Z)();return e.map((d,u)=>d.items.length===0?null:(0,a.jsxs)(y.x,{children:[d.sectionTitle&&(0,a.jsx)(y.x,{paddingBottom:4,children:(0,a.jsx)(L.Z,{variant:"delta",as:"h3",children:l(d.sectionTitle)})}),(0,a.jsx)(Q.r,{gap:4,children:d.items.map((g,c)=>{const p=`${u}.${c}`,h=w(s,g.name,void 0),x=Object.keys(t).find(v=>v===g.name),C=x?t[x].id:w(t,[...g.name.split(".").filter(v=>v!=="componentToCreate"),"id"],null);return g.type==="pushRight"?(0,a.jsx)(ee.P,{col:g.size||6,children:(0,a.jsx)("div",{})},g.name||p):(0,a.jsx)(ee.P,{col:g.size||6,children:(0,a.jsx)(P.GenericInput,{...g,...n,error:C,onChange:o,value:h})},g.name||p)})})]},u))};Ht.propTypes={form:i.arrayOf(i.object).isRequired,formErrors:i.object.isRequired,genericInputProps:i.object.isRequired,modifiedData:i.object.isRequired,onChange:i.func.isRequired};const Yt=({description:e,disabled:t,error:n,intlLabel:s,labelAction:o,name:l,onChange:d,placeholder:u,value:g})=>{const{formatMessage:c}=(0,_.Z)(),p=n?c({id:n,defaultMessage:n}):"",h=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=c(s),C=u?c({id:u.id,defaultMessage:u.defaultMessage},{...u.values}):"",v=Array.isArray(g)?g.join(`
`):"",A=k=>{const R=k.target.value.split(`
`);d({target:{name:l,value:R}})};return(0,a.jsx)(Ha.g,{disabled:t,error:p,label:x,labelAction:o,id:l,hint:h,name:l,onChange:A,placeholder:C,value:v,children:v})};Yt.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Yt.propTypes={description:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}),disabled:i.bool,error:i.string,intlLabel:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}).isRequired,labelAction:i.element,name:i.string.isRequired,onChange:i.func.isRequired,placeholder:i.shape({id:i.string.isRequired,defaultMessage:i.string.isRequired,values:i.object}),value:i.oneOfType([i.array,i.string])};const Pe={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:m("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},tl={sections:[{sectionTitle:null,items:[Pe]}]},Kt={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:m("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:m("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:m("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:m("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},oa=/^[A-Za-z][-_0-9A-Za-z]*$/,nl=e=>{const t={name:S.Z_().matches(oa,P.translatedErrors.regex).test({name:"nameNotAllowed",message:P.translatedErrors.unique,test(n){return n?!e.includes(n?.toLowerCase()):!1}}).required(P.translatedErrors.required)};return S.Ry(t)},al={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:m("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},rl=(e,t,n)=>{const s={displayName:S.Z_().test({name:"nameAlreadyUsed",message:P.translatedErrors.unique,test(o){if(!o)return!1;const l=(0,M.c)(o,n);return!e.includes(l)}}).test({name:"nameNotAllowed",message:m("error.contentTypeName.reserved-name"),test(o){return o?!t.includes(o?.trim()?.toLowerCase()):!1}}).required(P.translatedErrors.required),category:S.Z_().matches(oa,P.translatedErrors.regex).required(P.translatedErrors.required),icon:S.Z_()};return S.Ry(s)},Qe={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:m("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:m("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:m("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},D={default:{name:"default",type:"text",intlLabel:{id:m("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:m("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:m("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:m("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:m("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:m("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:m("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:m("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:m("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:m("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:m("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:m("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:m("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},ia={advanced:{blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:m("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},component({repeatable:e},t){return t==="1"?{sections:Qe.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private,D.max,D.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...D.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.max,D.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...D.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.maxLength,D.minLength,D.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:m("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((t,n)=>e.enum.indexOf(t)===n&&t).map(t=>({key:t,value:t,metadatas:{intlLabel:{id:`${t}.no-override`,defaultMessage:t}}}))]},{intlLabel:{id:m("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:m("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:m("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},number(e){const t=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:t,intlLabel:{id:m("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.max,D.min,D.private]}]}},password(){return{sections:[{sectionTitle:null,items:[D.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[D.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}},text(){return{sections:[{sectionTitle:null,items:[D.default,D.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.maxLength,D.minLength,D.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...D.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}}},base:{component(e,t){if(t==="1"){const n=e.createComponent===!0?Qe.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Kt]},...n]}}return{sections:[{sectionTitle:null,items:[Pe,{name:"component",type:"select-component",intlLabel:{id:m("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:m("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:m("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:m("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:m("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Pe,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:m("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:m("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:m("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Pe]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:m("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:m("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Pe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:m("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:m("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:m("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:m("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Pe,{intlLabel:{id:m("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:m("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:m("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:m("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:m("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Pe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:m("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:m("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:m("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:m("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Pe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:m("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:m("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:m("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:m("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,t,n){const s=n.filter(({type:o})=>["string","text"].includes(o)).map(({name:o})=>({key:o,value:o,metadatas:{intlLabel:{id:`${o}.no-override`,defaultMessage:o}}}));return{sections:[{sectionTitle:null,items:[{...Pe,placeholder:{id:m("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:m("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...s]}]}]}}}},Xt=e=>Ei(e,{decamelize:!1,lowercase:!1,separator:"_"}),la=/^[A-Za-z][_0-9A-Za-z]*$/,da=e=>({name:"attributeNameAlreadyUsed",message:P.translatedErrors.unique,test(t){return t?!e.includes(t):!1}}),Jt=e=>({name:"forbiddenAttributeName",message:m("error.attributeName.reserved-name"),test(t){return t?!e.includes(t):!1}}),T={default:()=>S.Z_().nullable(),max:()=>S.Rx().integer().nullable(),min:()=>S.Rx().integer().when("max",(e,t)=>e?t.max(e,m("error.validation.minSupMax")):t).nullable(),maxLength:()=>S.Rx().integer().positive(m("error.validation.positive")).nullable(),minLength:()=>S.Rx().integer().min(0).when("maxLength",(e,t)=>e?t.max(e,m("error.validation.minSupMax")):t).nullable(),name(e,t){return S.Z_().test(da(e)).test(Jt(t)).matches(la,P.translatedErrors.regex).required(P.translatedErrors.required)},required:()=>S.O7(),type:()=>S.Z_().required(P.translatedErrors.required),unique:()=>S.O7().nullable()},Qt=(e,t)=>({name:T.name(e,t),type:T.type(),default:T.default(),unique:T.unique(),required:T.required(),maxLength:T.maxLength(),minLength:T.minLength(),regex:S.Z_().test({name:"isValidRegExpPattern",message:m("error.validation.regex"),test(s){return new RegExp(s)!==null}}).nullable()}),_t={name:"isMinSuperiorThanMax",message:m("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:t}=this.parent;return!t||Number.isNaN(St(e))?!0:St(t)>=St(e)}},en={date(e,t){const n={name:T.name(e,t),type:T.type()};return S.Ry(n)},datetime(e,t){const n={name:T.name(e,t),type:T.type()};return S.Ry(n)},time(e,t){const n={name:T.name(e,t),type:T.type()};return S.Ry(n)},default(e,t){const n={name:T.name(e,t),type:T.type()};return S.Ry(n)},biginteger(e,t){const n={name:T.name(e,t),type:T.type(),default:S.Z_().nullable().matches(/^-?\d*$/),unique:T.unique(),required:T.required(),max:S.Z_().nullable().matches(/^-?\d*$/,P.translatedErrors.regex),min:S.Z_().nullable().test(_t).matches(/^-?\d*$/,P.translatedErrors.regex)};return S.Ry(n)},boolean(e,t){const n={name:T.name(e,t),default:S.O7().nullable(),required:T.required(),unique:T.unique()};return S.Ry(n)},component(e,t){const n={name:T.name(e,t),type:T.type(),required:T.required(),max:T.max(),min:T.min(),component:S.Z_().required(P.translatedErrors.required)};return S.Ry(n)},decimal(e,t){const n={name:T.name(e,t),type:T.type(),default:S.Rx(),required:T.required(),max:S.Rx(),min:S.Rx().test(_t)};return S.Ry(n)},dynamiczone(e,t){const n={name:T.name(e,t),type:T.type(),required:T.required(),max:T.max(),min:T.min()};return S.Ry(n)},email(e,t){const n={name:T.name(e,t),type:T.type(),default:S.Z_().email().nullable(),unique:T.unique(),required:T.required(),maxLength:T.maxLength(),minLength:T.minLength()};return S.Ry(n)},enumeration(e,t){const n=/^[_A-Za-z][_0-9A-Za-z]*$/,s={name:S.Z_().test(da(e)).test(Jt(t)).matches(n,P.translatedErrors.regex).required(P.translatedErrors.required),type:T.type(),default:T.default(),unique:T.unique(),required:T.required(),enum:S.IX().of(S.Z_()).min(1,P.translatedErrors.min).test({name:"areEnumValuesUnique",message:m("error.validation.enum-duplicate"),test(o){return!Oi(o.map(Xt).filter((d,u,g)=>g.indexOf(d)!==u)).length}}).test({name:"doesNotHaveEmptyValues",message:m("error.validation.enum-empty-string"),test:o=>!o.map(Xt).some(l=>l==="")}).test({name:"doesMatchRegex",message:m("error.validation.enum-regex"),test:o=>o.map(Xt).every(l=>n.test(l))}),enumName:S.Z_().nullable()};return S.Ry(s)},float(e,t){const n={name:T.name(e,t),type:T.type(),required:T.required(),default:S.Rx(),max:S.Rx(),min:S.Rx().test(_t)};return S.Ry(n)},integer(e,t){const n={name:T.name(e,t),type:T.type(),default:S.Rx().integer(),unique:T.unique(),required:T.required(),max:T.max(),min:T.min()};return S.Ry(n)},json(e,t){const n={name:T.name(e,t),type:T.type(),required:T.required(),unique:T.unique()};return S.Ry(n)},media(e,t){const n={name:T.name(e,t),type:T.type(),multiple:S.O7(),required:T.required(),allowedTypes:S.IX().of(S.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return S.Ry(n)},password(e,t){const n={name:T.name(e,t),type:T.type(),default:T.default(),unique:T.unique(),required:T.required(),maxLength:T.maxLength(),minLength:T.minLength()};return S.Ry(n)},relation(e,t,n,{initialData:s,modifiedData:o}){const l={name:T.name(e,t),target:S.Z_().required(P.translatedErrors.required),relation:S.Z_().required(),type:S.Z_().required(),targetAttribute:S.Vo(()=>{const d=(0,M.g)(o.relation,o.targetAttribute);if(d==="oneWay"||d==="manyWay")return S.Z_().nullable();let u=S.Z_().test(Jt(t)),c=[...n.map(({name:p})=>p),o.name].filter(p=>p!==s.targetAttribute);return u.matches(la,P.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:m("error.validation.relation.targetAttribute-taken"),test(p){return p?!c.includes(p):!1}}).required(P.translatedErrors.required)})};return S.Ry(l)},richtext(e,t){const n={name:T.name(e,t),type:T.type(),default:T.default(),unique:T.unique(),required:T.required(),maxLength:T.maxLength(),minLength:T.minLength()};return S.Ry(n)},blocks(e,t){const n={name:T.name(e,t),type:T.type(),default:T.default(),unique:T.unique(),required:T.required(),maxLength:T.maxLength(),minLength:T.minLength()};return S.Ry(n)},string(e,t){const n=Qt(e,t);return S.Ry(n)},text(e,t){const n=Qt(e,t);return S.Ry(n)},uid(e,t){const n=Qt(e,t);return S.Ry(n)}},sl=({usedContentTypeNames:e=[],reservedModels:t=[],singularNames:n=[],pluralNames:s=[],collectionNames:o=[]})=>{const l={displayName:S.Z_().test({name:"nameAlreadyUsed",message:P.translatedErrors.unique,test(d){if(!d)return!1;const u=(0,M.b)(d);return!e.includes(u)}}).test({name:"nameNotAllowed",message:m("error.contentTypeName.reserved-name"),test(d){return d?!t.includes(d?.trim()?.toLowerCase()):!1}}).required(P.translatedErrors.required),pluralName:S.Z_().test({name:"pluralNameAlreadyUsed",message:P.translatedErrors.unique,test(d){return d?!s.includes(d):!1}}).test({name:"pluralNameAlreadyUsedAsSingular",message:m("error.contentType.pluralName-equals-singularName"),test(d){return d?!n.includes(d):!1}}).test({name:"pluralAndSingularAreUnique",message:m("error.contentType.pluralName-used"),test(d,u){return d?u.parent.singularName!==d:!1}}).test({name:"pluralNameNotAllowed",message:m("error.contentTypeName.reserved-name"),test(d){return d?!t.includes(d?.trim()?.toLowerCase()):!1}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:m("error.contentType.pluralName-equals-collectionName"),test(d){return d?!o.includes(d?.trim()?.toLowerCase()):!1}}).required(P.translatedErrors.required),singularName:S.Z_().test({name:"singularNameAlreadyUsed",message:P.translatedErrors.unique,test(d){return d?!n.includes(d):!1}}).test({name:"singularNameAlreadyUsedAsPlural",message:m("error.contentType.singularName-equals-pluralName"),test(d){return d?!s.includes(d):!1}}).test({name:"pluralAndSingularAreUnique",message:m("error.contentType.singularName-used"),test(d,u){return d?u.parent.pluralName!==d:!1}}).test({name:"singularNameNotAllowed",message:m("error.contentTypeName.reserved-name"),test(d){return d?!t.includes(d?.trim()?.toLowerCase()):!1}}).required(P.translatedErrors.required),draftAndPublish:S.O7(),kind:S.Z_().oneOf(["singleType","collectionType"]),reviewWorkflows:S.O7()};return S.Ry(l)},ua={name:"displayName",type:"text",intlLabel:{id:m("contentType.displayName.label"),defaultMessage:"Display name"}},tn={advanced:{default(){return{sections:[{items:[{intlLabel:{id:m("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:m("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[ua,{description:{id:m("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:m("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:m("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:m("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[ua,{disabled:!0,description:{id:m("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:m("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:m("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:m("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:m("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:m("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:m("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:m("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},nn={advanced:{default(){return{sections:Qe.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Kt]},...Qe.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Kt]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:m("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},ca=(e,t)=>{e.forEach(n=>{if(!("sectionTitle"in n)){t[0].items.push(n);return}t.push(n)})},ma=(e,t)=>e.filter(({name:n})=>n!==t.initialData.name).map(({name:n})=>n),Ue={customField:{schema({schemaAttributes:e,attributeType:t,customFieldValidator:n,reservedNames:s,schemaData:o,ctbFormsAPI:l}){const d=ma(e,o),u=en[t](d,s.attributes);return l.makeCustomFieldValidator(u,n,d,s.attributes,o)},form:{base({customField:e}){const t=[{sectionTitle:null,items:[Pe]}];return e.options?.base&&ca(e.options.base,t),{sections:t}},advanced({customField:e,data:t,step:n,extensions:s,...o}){const l=[{sectionTitle:null,items:[]}],d=s.getAdvancedForm(["attribute",e.type],{data:t,type:e.type,step:n,...o});if(e.options?.advanced&&ca(e.options.advanced,l),d){const u={sectionTitle:{id:m("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:d};l.push(u)}return{sections:l}}}},attribute:{schema(e,t,n,s,o,l){const d=e?.schema?.attributes??[],u=ma(d,o);try{let g=en[t](u,n.attributes,s,o);return l.makeValidator(["attribute",t],g,u,n.attributes,s,o)}catch(g){return console.error("Error yup build schema",g),en.default(u,n.attributes)}},form:{advanced({data:e,type:t,step:n,extensions:s,...o}){try{const l=ia.advanced[t](e,n).sections,d=s.getAdvancedForm(["attribute",t],{data:e,type:t,step:n,...o});return{sections:l.reduce((g,c)=>(c.sectionTitle===null?g.push(c):g.push({...c,items:[...c.items,...d]}),g),[])}}catch(l){return console.error(l),{sections:[]}}},base({data:e,type:t,step:n,attributes:s}){try{return ia.base[t](e,n,s)}catch{return tl}}}},contentType:{schema(e,t,n,s,o,l){const d=Object.values(l).map(v=>v.schema.singularName),u=Object.values(l).map(v=>v?.schema?.pluralName??""),g=t?e.filter(v=>v!==n):e,c=t?d.filter(v=>{const{schema:A}=l[n];return A.singularName!==v}):d,p=t?u.filter(v=>{const{schema:A}=l[n];return A.pluralName!==v}):u,h=Object.values(l).map(v=>v?.schema?.collectionName??""),x=t?h.filter(v=>{const{schema:A}=l[n],k=A.pluralName,R=A.collectionName;return v!==k||v!==R}):h,C=sl({usedContentTypeNames:g,reservedModels:s.models,singularNames:c,pluralNames:p,collectionNames:x});return o.makeValidator(["contentType"],C,g,s.models,c,p)},form:{base({actionType:e}){return e==="create"?tn.base.create():tn.base.edit()},advanced({extensions:e}){const t=tn.advanced.default().sections.map(s=>s.items).flat(),n=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...t,...n]}]}}}},component:{schema(e,t,n,s=!1,o=null){const l=s?e.filter(d=>d!==o):e;return rl(l,n.models,t)},form:{advanced(){return{sections:Qe.advanced()}},base(){return{sections:Qe.base()}}}},addComponentToDynamicZone:{form:{advanced(){return nn.advanced.default()},base({data:e}){return e?.createComponent??!1?nn.base.createComponent():nn.base.default()}}},editCategory:{schema(e,t){const n=e.filter(s=>s!==t.name).map(s=>s.toLowerCase());return nl(n)},form:{advanced:()=>({sections:[]}),base(){return al.base}}}};var yt="NOT_FOUND";function ol(e){var t;return{get:function(s){return t&&e(t.key,s)?t.value:yt},put:function(s,o){t={key:s,value:o}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function il(e,t){var n=[];function s(u){var g=n.findIndex(function(p){return t(u,p.key)});if(g>-1){var c=n[g];return g>0&&(n.splice(g,1),n.unshift(c)),c.value}return yt}function o(u,g){s(u)===yt&&(n.unshift({key:u,value:g}),n.length>e&&n.pop())}function l(){return n}function d(){n=[]}return{get:s,put:o,getEntries:l,clear:d}}var ll=function(t,n){return t===n};function dl(e){return function(n,s){if(n===null||s===null||n.length!==s.length)return!1;for(var o=n.length,l=0;l<o;l++)if(!e(n[l],s[l]))return!1;return!0}}function ul(e,t){var n=typeof t=="object"?t:{equalityCheck:t},s=n.equalityCheck,o=s===void 0?ll:s,l=n.maxSize,d=l===void 0?1:l,u=n.resultEqualityCheck,g=dl(o),c=d===1?ol(g):il(d,g);function p(){var h=c.get(arguments);if(h===yt){if(h=e.apply(null,arguments),u){var x=c.getEntries(),C=x.find(function(v){return u(v.value,h)});C&&(h=C.value)}c.put(arguments,h)}return h}return p.clearCache=function(){return c.clear()},p}function cl(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(s){return typeof s=="function"})){var n=t.map(function(s){return typeof s=="function"?"function "+(s.name||"unnamed")+"()":typeof s}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function ml(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];var o=function(){for(var d=arguments.length,u=new Array(d),g=0;g<d;g++)u[g]=arguments[g];var c=0,p,h={memoizeOptions:void 0},x=u.pop();if(typeof x=="object"&&(h=x,x=u.pop()),typeof x!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof x+"]");var C=h,v=C.memoizeOptions,A=v===void 0?n:v,k=Array.isArray(A)?A:[A],R=cl(u),O=e.apply(void 0,[function(){return c++,x.apply(null,arguments)}].concat(k)),F=e(function(){for(var Y=[],oe=R.length,me=0;me<oe;me++)Y.push(R[me].apply(null,arguments));return p=O.apply(null,Y),p});return Object.assign(F,{resultFunc:x,memoizedResultFunc:O,dependencies:R,lastResult:function(){return p},recomputations:function(){return c},resetRecomputations:function(){return c=0}}),F};return o}var pa=ml(ul),fa=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),pl=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,d;return d={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function u(c){return function(p){return g([c,p])}}function g(c){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(l=c[0]&2?o.return:c[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,c[1])).done)return l;switch(o=0,l&&(c=[c[0]&2,l.value]),c[0]){case 0:case 1:l=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!l||c[1]>l[0]&&c[1]<l[3])){n.label=c[1];break}if(c[0]===6&&n.label<l[1]){n.label=l[1],l=c;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(c);break}l[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(p){c=[6,p],o=0}finally{s=l=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},vt=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,s=t.length,o=e.length;n<s;n++,o++)e[o]=t[n];return e},fl=Object.defineProperty,gl=Object.defineProperties,hl=Object.getOwnPropertyDescriptors,ga=Object.getOwnPropertySymbols,yl=Object.prototype.hasOwnProperty,vl=Object.prototype.propertyIsEnumerable,ha=function(e,t,n){return t in e?fl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},it=function(e,t){for(var n in t||(t={}))yl.call(t,n)&&ha(e,n,t[n]);if(ga)for(var s=0,o=ga(t);s<o.length;s++){var n=o[s];vl.call(t,n)&&ha(e,n,t[n])}return e},an=function(e,t){return gl(e,hl(t))},bl=function(e,t,n){return new Promise(function(s,o){var l=function(g){try{u(n.next(g))}catch(c){o(c)}},d=function(g){try{u(n.throw(g))}catch(c){o(c)}},u=function(g){return g.done?s(g.value):Promise.resolve(g.value).then(l,d)};u((n=n.apply(e,t)).next())})};function _e(e,t){function n(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(t){var l=t.apply(void 0,s);if(!l)throw new Error("prepareAction did not return an object");return it(it({type:e,payload:l.payload},"meta"in l&&{meta:l.meta}),"error"in l&&{error:l.error})}return{type:e,payload:s[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(s){return s.type===e},n}(function(e){fa(t,e);function t(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,vt([void 0],n[0].concat(this)))):new(t.bind.apply(t,vt([void 0],n.concat(this))))},t})(Array),function(e){fa(t,e);function t(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,vt([void 0],n[0].concat(this)))):new(t.bind.apply(t,vt([void 0],n.concat(this))))},t}(Array);var xl="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Cl=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=xl[Math.random()*64|0];return t},Tl=["name","message","stack","code"],rn=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),ya=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),jl=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,s=Tl;n<s.length;n++){var o=s[n];typeof e[o]=="string"&&(t[o]=e[o])}return t}return{message:String(e)}};(function(){function e(t,n,s){var o=_e(t+"/fulfilled",function(p,h,x,C){return{payload:p,meta:an(it({},C||{}),{arg:x,requestId:h,requestStatus:"fulfilled"})}}),l=_e(t+"/pending",function(p,h,x){return{payload:void 0,meta:an(it({},x||{}),{arg:h,requestId:p,requestStatus:"pending"})}}),d=_e(t+"/rejected",function(p,h,x,C,v){return{payload:C,error:(s&&s.serializeError||jl)(p||"Rejected"),meta:an(it({},v||{}),{arg:x,requestId:h,rejectedWithValue:!!C,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"})}}),u=!1,g=typeof AbortController<"u"?AbortController:function(){function p(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return p.prototype.abort=function(){},p}();function c(p){return function(h,x,C){var v=s?.idGenerator?s.idGenerator(p):Cl(),A=new g,k;function R(F){k=F,A.abort()}var O=function(){return bl(this,null,function(){var F,W,Y,oe,me,q,ve;return pl(this,function(X){switch(X.label){case 0:return X.trys.push([0,4,,5]),oe=(F=s?.condition)==null?void 0:F.call(s,p,{getState:x,extra:C}),Rl(oe)?[4,oe]:[3,2];case 1:oe=X.sent(),X.label=2;case 2:if(oe===!1||A.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return me=new Promise(function(re,se){return A.signal.addEventListener("abort",function(){return se({name:"AbortError",message:k||"Aborted"})})}),h(l(v,p,(W=s?.getPendingMeta)==null?void 0:W.call(s,{requestId:v,arg:p},{getState:x,extra:C}))),[4,Promise.race([me,Promise.resolve(n(p,{dispatch:h,getState:x,extra:C,requestId:v,signal:A.signal,abort:R,rejectWithValue:function(re,se){return new rn(re,se)},fulfillWithValue:function(re,se){return new ya(re,se)}})).then(function(re){if(re instanceof rn)throw re;return re instanceof ya?o(re.payload,v,p,re.meta):o(re,v,p)})])];case 3:return Y=X.sent(),[3,5];case 4:return q=X.sent(),Y=q instanceof rn?d(null,v,p,q.payload,q.meta):d(q,v,p),[3,5];case 5:return ve=s&&!s.dispatchConditionRejection&&d.match(Y)&&Y.meta.condition,ve||h(Y),[2,Y]}})})}();return Object.assign(O,{abort:R,requestId:v,arg:p,unwrap:function(){return O.then(Ml)}})}}return Object.assign(c,{pending:l,rejected:d,fulfilled:o,typePrefix:t})}return e.withTypes=function(){return e},e})();function Ml(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Rl(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var sn="listenerMiddleware";_e(sn+"/add"),_e(sn+"/removeAll"),_e(sn+"/remove");var va;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis),(0,$i.enableES5)();const Al=()=>e=>e[`${M.p}_formModal`]||M.i,Sl=()=>pa(Al(),e=>e),Zl=(e,t)=>{const n=w(e,["contentType","schema","kind"],"");return n==="singleType"||n===t.kind?!0:w(e,["contentType","schema","attributes"],[]).filter(({relation:l,type:d,targetAttribute:u})=>{const g=(0,M.g)(l,u);return d==="relation"&&!["oneWay","manyWay"].includes(g)}).length===0},Ll=(e="",t,n)=>{const s=["text","boolean","blocks","json","number","email","date","password","media","enumeration","relation","richtext"],o=e==="contentType",l=n.includes(t),d=!o&&!l;return o?[[...s.slice(0,-1),"uid",...s.slice(-1)],["component","dynamiczone"]]:d?[s,["component"]]:[s]},ba=e=>e.reduce((t,n)=>{const s=n.items.reduce((o,l)=>(l.name&&o.push(l.name),o),[]);return[...t,...s]},[]),Nl=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:t,onNavigateToAddCompoToDZModal:n,onNavigateToCreateComponentStep2:s,actionType:o,attributeName:l,attributeType:d,customFieldUid:u,categoryName:g,dynamicZoneTarget:c,forTarget:p,modalType:h,isOpen:x,showBackLink:C,kind:v,step:A,targetUid:k}=He(),R=(0,P.useCustomFields)().get(u),O=(0,f.useRef)(),F=(0,f.useMemo)(Sl,[]),W=(0,Ge.useDispatch)(),Y=(0,P.useNotification)(),oe=(0,Ge.useSelector)(H=>F(H),Ge.shallowEqual),{push:me}=(0,Re.k6)(),{trackUsage:q}=(0,P.useTracking)(),{formatMessage:ve}=(0,_.Z)(),{getPlugin:X}=(0,P.useStrapiApp)(),se=X(M.p).apis.forms,pe=se.components.inputs,{addAttribute:Be,addCustomFieldAttribute:Ce,addCreatedComponentToDynamicZone:ae,allComponentsCategories:I,changeDynamicZoneComponents:on,contentTypes:et,components:dt,createSchema:tt,deleteCategory:ln,deleteData:xt,editCategory:dn,editCustomFieldAttribute:un,submitData:cn,modifiedData:Te,nestedComponents:mn,setModifiedData:pn,sortedContentTypesList:fn,updateSchema:Ct,reservedNames:qe}=De(),{componentToCreate:ut,formErrors:ke,initialData:be,isCreatingComponentWhileAddingAField:ct,modifiedData:j}=oe,B=p==="contentType"||p==="component"?[p]:[p,k];(0,f.useEffect)(()=>{if(x){const H=fn.filter(Kn);h==="editCategory"&&pn(),o==="edit"&&h==="attribute"&&p==="contentType"&&q("willEditFieldOfContentType");const Se=[...B,"schema","attributes"],Ee=Zt(w(Te,Se,[]),c)||null;if(h==="editCategory"&&o==="edit"&&W({type:M.S,modalType:h,actionType:o,data:{name:g}}),h==="contentType"&&o==="create"&&W({type:M.S,modalType:h,actionType:o,data:{draftAndPublish:!0},pluginOptions:{}}),h==="contentType"&&o==="edit"){const{displayName:J,draftAndPublish:xe,kind:Oe,pluginOptions:Me,pluralName:dd,reviewWorkflows:ud,singularName:cd}=w(Te,[...B,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});W({type:M.S,actionType:o,modalType:h,data:{displayName:J,draftAndPublish:xe,kind:Oe,pluginOptions:Me,pluralName:dd,reviewWorkflows:ud??!1,singularName:cd}})}if(h==="component"&&o==="edit"){const J=w(Te,B,{});W({type:M.S,actionType:o,modalType:h,data:{displayName:J.schema.displayName,category:J.category,icon:J.schema.icon}})}if(h==="addComponentToDynamicZone"&&o==="edit"){const J={...Ee,components:[],name:c,createComponent:!1,componentToCreate:{type:"component"}};W({type:M.d,attributeToEdit:J})}if(d){const xe={...Zt(w(Te,Se,[]),l),name:l};d==="component"&&o==="edit"&&(xe.repeatable||Un(xe,"repeatable",!1)),W(h==="customField"?{type:M.e,customField:R,isEditing:o==="edit",modifiedDataToSetForEditing:xe,forTarget:p}:{type:M.f,attributeType:d,nameToSetForRelation:w(H,["0","title"],"error"),targetUid:w(H,["0","uid"],"error"),isEditing:o==="edit",modifiedDataToSetForEditing:xe,step:A,forTarget:p})}}else W({type:M.R})},[o,l,d,g,c,p,x,h]);const G=h==="contentType",ye=h==="component",je=h==="attribute",Ae=h==="customField",we=d==="component"&&je,Ke=o==="create",Ve=w(j,"createComponent",!1)||ct,nt=A==="1",Fa=h==="editCategory",Ea=h==="chooseAttribute",gn=(0,M.b)(j.displayName||""),hn=w(Te,[...B,"schema","attributes"],null),Kl=async()=>{let H;const Se=Ve&&A==="1"?w(j,"componentToCreate",{}):j;if(G)H=Ue.contentType.schema(Object.keys(et),o==="edit",w(Te,[...B,"uid"],null),qe,se,et);else if(ye)H=Ue.component.schema(Object.keys(dt),j.category||"",qe,o==="edit",w(Te,[...B,"uid"],null),se);else if(Ae)H=Ue.customField.schema({schemaAttributes:w(Te,[...B,"schema","attributes"],[]),attributeType:R.type,reservedNames:qe,schemaData:{modifiedData:j,initialData:be},ctbFormsAPI:se,customFieldValidator:R.options?.validator});else if(we&&Ve&&nt)H=Ue.component.schema(Object.keys(dt),w(j,"componentToCreate.category",""),qe,se);else if(je&&!nt){const Ee=d==="relation"?"relation":j.type;let J=[];if(Ee==="relation"){const xe=w(j,["target"],null);J=w(et,[xe,"schema","attributes"],[]).filter(({name:Me})=>o!=="edit"?!0:Me!==be.targetAttribute)}H=Ue.attribute.schema(w(Te,B,{}),Ee,qe,J,{modifiedData:j,initialData:be},se)}else if(Fa)H=Ue.editCategory.schema(I,be,se);else if(nt&&Ve)H=Ue.component.schema(Object.keys(dt),w(j,"componentToCreate.category",""),qe,se);else return;await H.validate(Se,{abortEarly:!1})},Oa=(0,f.useCallback)(({target:{name:H,value:Se,type:Ee,...J}})=>{const xe=["enumName","max","min","maxLength","minLength","regex","default"];let Oe;xe.includes(H)&&Se===""?Oe=null:Oe=Se;const Me=Object.assign({},ke);H==="max"&&delete Me.min,H==="maxLength"&&delete Me.minLength,delete Me[H],W({type:M.h,errors:Me}),W({type:M.j,keys:H.split("."),value:Oe,...J})},[W,ke]),Fe=async(H,Se=Ke)=>{H.preventDefault();try{await Kl(),Ql(Se);const Ee=p==="components"?k:gn;if(G)if(Ke)tt({...j,kind:v},h,gn),me({pathname:`/plugins/${M.p}/content-types/${gn}`}),t({forTarget:p,targetUid:Ee});else{Zl(Te,j)?(e(),cn(j)):Y({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(h==="component")if(Ke){const J=(0,M.c)(j.displayName,j.category),{category:xe,...Oe}=j;tt(Oe,"component",J,xe),me({pathname:`/plugins/${M.p}/component-categories/${xe}/${J}`}),t({forTarget:p,targetUid:J})}else{Ct(j,h,k),e();return}else if(Fa){if(qn(be.name)===qn(j.name)){e();return}dn(be.name,j);return}else if(Ae){const J={attributeToSet:{...j,customField:u},forTarget:p,targetUid:k,initialAttribute:be};o==="edit"?un(J):Ce(J),Se?t({forTarget:p,targetUid:Ee}):e();return}else if(je&&!Ve){if(d==="dynamiczone"){Be(j,p,k,o==="edit",be),Ke?(W({type:M.k}),O.current._handlers.setSelectedTabIndex(0),n({dynamicZoneTarget:j.name})):e();return}if(!we){Be(j,p,k,o==="edit",be),Se?t({forTarget:p,targetUid:Ee}):e();return}if(nt){s(),W({type:M.l,forTarget:p});return}Be(j,p,k,o==="edit",be,!0),Se?t({forTarget:p,targetUid:k}):e()}else if(je&&Ve){if(nt){q("willCreateComponentFromAttributesModal"),W({type:M.m,forTarget:p}),s();return}const{category:J,type:xe,...Oe}=ut,Me=(0,M.c)(ut.displayName,J);tt(Oe,xe,Me,J,Ve),Be(j,p,k,!1),W({type:M.R}),Se?t({forTarget:"components",targetUid:Me}):e();return}else{if(nt)if(Ve){const{category:J,type:xe,...Oe}=j.componentToCreate,Me=(0,M.c)(j.componentToCreate.displayName,J);tt(Oe,xe,Me,J,Ve),ae(c,[Me]),t({forTarget:"components",targetUid:Me})}else on(c,j.components),e();else console.error("This case is not handled");return}W({type:M.R})}catch(Ee){const J=(0,P.getYupInnerErrors)(Ee);console.log({err:Ee,errors:J}),W({type:M.h,errors:J})}},Xl=()=>{window.confirm(ve({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),W({type:M.R}))},$a=()=>{Rt(j,be)?(e(),W({type:M.R})):Xl()},Jl=H=>{if(H==="advanced"){if(G){q("didSelectContentTypeSettings");return}p==="contentType"&&q("didSelectContentTypeFieldSettings")}},Ql=H=>{h==="attribute"&&p==="contentType"&&d!=="dynamiczone"&&H&&q("willAddMoreFieldToContentType")},_l=()=>!!(h==="editCategory"||h==="component"||Ni(j,"createComponent")),ed=Ll(p,k,mn);if(!x||!h)return null;const Pa=w(Ue,[h,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),td=p==="components"||p==="component",Ia={customInputs:{"allowed-types-select":Lt,"boolean-radio-group":ta,"checkbox-with-number-field":Et,"icon-picker":Bt,"content-type-radio-group":na,"radio-group":ot,relation:ra,"select-category":zt,"select-component":Ut,"select-components":sa,"select-default-boolean":Ft,"select-number":Vt,"select-date":qt,"toggle-draft-publish":Ot,"text-plural":kt,"text-singular":Gt,"textarea-enum":Yt,...pe},componentToCreate:ut,dynamicZoneTarget:c,formErrors:ke,isAddingAComponentToAnotherComponent:td,isCreatingComponentWhileAddingAField:ct,mainBoxHeader:w(Te,[...B,"schema","displayName"],""),modifiedData:j,naturePickerType:p,isCreating:Ke,targetUid:k,forTarget:p},Da=Pa.advanced({data:j,type:d,step:A,actionType:o,attributes:hn,extensions:se,forTarget:p,contentTypeSchema:Te.contentType||{},customField:R}).sections,Ba=Pa.base({data:j,type:d,step:A,actionType:o,attributes:hn,extensions:se,forTarget:p,contentTypeSchema:Te.contentType||{},customField:R}).sections,nd=ba(Ba),ad=ba(Da),rd=Object.keys(ke).some(H=>nd.includes(H)),sd=Object.keys(ke).some(H=>ad.includes(H)),od=w(et,[k,"schema","kind"]),id=()=>o==="edit"&&hn.every(({name:H})=>H!==j?.name),ld=()=>{id()&&q("didEditFieldNameOnContentType")};return(0,a.jsxs)(Ya.P,{onClose:$a,labelledBy:"title",children:[(0,a.jsx)(Pt,{actionType:o,attributeName:l,categoryName:g,contentTypeKind:v,dynamicZoneTarget:c,modalType:h,forTarget:p,targetUid:k,attributeType:d,customFieldUid:u,showBackLink:C}),Ea&&(0,a.jsx)(ea,{attributes:ed,forTarget:p,kind:od||"collectionType"}),!Ea&&(0,a.jsxs)("form",{onSubmit:Fe,children:[(0,a.jsx)(ue.f,{children:(0,a.jsxs)(ge.v,{label:"todo",id:"tabs",variant:"simple",ref:O,onTabChange:H=>{H===1&&Jl("advanced")},children:[(0,a.jsxs)(b.k,{justifyContent:"space-between",children:[(0,a.jsx)(It,{actionType:o,forTarget:p,kind:v,step:A,modalType:h,attributeType:d,attributeName:l,customField:R}),(0,a.jsxs)(K.m,{children:[(0,a.jsx)(K.O,{hasError:rd,children:ve({id:m("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})}),(0,a.jsx)(K.O,{hasError:sd,disabled:_l(),children:ve({id:m("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})})]})]}),(0,a.jsx)(te.i,{}),(0,a.jsx)(y.x,{paddingTop:6,children:(0,a.jsxs)(ne.n,{children:[(0,a.jsx)(ne.x,{children:(0,a.jsx)(b.k,{direction:"column",alignItems:"stretch",gap:6,children:(0,a.jsx)(Ht,{form:Ba,formErrors:ke,genericInputProps:Ia,modifiedData:j,onChange:Oa})})}),(0,a.jsx)(ne.x,{children:(0,a.jsx)(b.k,{direction:"column",alignItems:"stretch",gap:6,children:(0,a.jsx)(Ht,{form:Da,formErrors:ke,genericInputProps:Ia,modifiedData:j,onChange:Oa})})})]})})]})}),(0,a.jsx)(Ka.m,{endActions:(0,a.jsx)($t,{deleteCategory:ln,deleteContentType:xt,deleteComponent:xt,categoryName:be.name,isAttributeModal:h==="attribute",isCustomFieldModal:h==="customField",isComponentToDzModal:h==="addComponentToDynamicZone",isComponentAttribute:d==="component",isComponentModal:h==="component",isContentTypeModal:h==="contentType",isCreatingComponent:o==="create",isCreatingDz:o==="create",isCreatingComponentAttribute:j.createComponent||!1,isCreatingComponentInDz:j.createComponent||!1,isCreatingComponentWhileAddingAField:ct,isCreatingContentType:o==="create",isEditingAttribute:o==="edit",isDzAttribute:d==="dynamiczone",isEditingCategory:h==="editCategory",isInFirstComponentStep:A==="1",onSubmitAddComponentAttribute:Fe,onSubmitAddComponentToDz:Fe,onSubmitCreateComponent:Fe,onSubmitCreateContentType:Fe,onSubmitCreateDz:Fe,onSubmitEditAttribute:Fe,onSubmitEditCategory:Fe,onSubmitEditComponent:Fe,onSubmitEditContentType:Fe,onSubmitEditCustomFieldAttribute:Fe,onSubmitEditDz:Fe,onClickFinish:ld}),startActions:(0,a.jsx)(le.z,{variant:"tertiary",onClick:$a,children:ve({id:"app.components.Button.cancel",defaultMessage:"Cancel"})})})]})]})},Fl=()=>e=>e[`${M.p}_dataManagerProvider`]||M.o,El=()=>pa(Fl(),e=>e),Ol=(e,t)=>{const n=Object.keys(e).filter(s=>{const o=w(e,s,{}),l=w(t,s,{}),d=w(o,["isTemporary"],!1),u=!Rt(o,l);return d||u});return(0,M.q)(n)},$l=(e,t)=>{const n=Ca(w(e,"schema.attributes",[]),t),s=w(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},s,{category:e.category},Gn(e.schema,"attributes"),{attributes:n})},xa=(e,t=!1)=>{const n=w(e,"uid",null),s=Ca(w(e,"schema.attributes",[]),n),o=t?{category:w(e,"category","")}:{},l=Object.assign(o,Gn(e.schema,"attributes"),{attributes:s});return delete l.uid,delete l.isTemporary,delete l.visible,delete l.restrictRelationsTo,l},Ca=(e,t)=>e.reduce((n,{name:s,...o})=>{const l=o,d=l.target===t,u=l.type==="relation",g=w(l,"targetAttribute",null);if(!d)if(u){const c=Object.assign({},l,{targetAttribute:Ta(g)});n[s]=bt(c)}else n[s]=bt(l);if(d){const c=l.target,p=Object.assign({},l,{target:c,targetAttribute:Ta(g)});n[s]=bt(p)}if(l.customField){const c={...l,type:"customField"};n[s]=bt(c)}return n},{}),Ta=e=>e==="-"?null:e,bt=e=>Object.keys(e).reduce((t,n)=>(e[n]!==null&&n!=="plugin"&&(t[n]=e[n]),t),{}),Pl=(e,t,n,s=!1)=>Ol(e,t).map(d=>{const u=w(e,d,{});return $l(u,n)}),Il=e=>Ii(Object.keys(e).map(t=>({visible:e[t].schema.visible,name:t,title:e[t].schema.displayName,plugin:e[t].plugin||null,uid:t,to:`/plugins/${M.p}/content-types/${t}`,kind:e[t].schema.kind,restrictRelationsTo:e[t].schema.restrictRelationsTo})).filter(t=>t!==null),t=>Pi(t.title)),ja=e=>e.reduce((t,n)=>(t[n.uid]=n,t),{}),Dl=(e,t,n,s)=>{const o=t.reduce((u,g)=>{const c=w(n,g,{});return u[g]=c,u},{});return{[s?"contentType":"component"]:e,components:o}},Ma=e=>Object.keys(e).reduce((t,n)=>{const s=e[n].schema;return t[n]={...e[n],schema:{...s,attributes:Bl(s.attributes)}},t},{}),Bl=e=>Object.keys(e).reduce((t,n)=>(t.push({...e[n],name:n}),t),[]),kl=e=>{const t=Object.keys(e).reduce((n,s)=>{const o=w(e,[s],{}),l=o.uid;return wl(o)&&n.push(l),n},[]);return(0,M.q)(t)},wl=e=>w(e,["schema","attributes"],[]).some(n=>{const{type:s}=n;return s==="component"}),Ra=e=>{const t=Object.keys(e).reduce((n,s)=>{const o=e?.[s]?.schema?.attributes??[],l=Wl(o);return[...n,...l]},[]);return(0,M.q)(t)},Wl=e=>e.reduce((t,n)=>{const{type:s,component:o}=n;return s==="component"&&t.push(o),t},[]),zl=(e,t)=>{const n=Object.keys(e).map(s=>w(e,[s,...t],""));return(0,M.q)(n)},Aa="did-not-kill-server",Ul="server is down";function lt(e,t){return new Promise(n=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(s=>{if(s.status>=400)throw new Error(Ul);if(!t)throw new Error(Aa);n(e)}).catch(s=>{setTimeout(()=>lt(e,s.message!==Aa).then(n),100)})})}const ql=e=>Object.values(e.attributes).filter(({type:n})=>n==="dynamiczone").every(({components:n})=>Array.isArray(n)&&n.length>0),Sa=({children:e})=>{const t=(0,Ge.useDispatch)(),{components:n,contentTypes:s,isLoading:o,isLoadingForDataToBeSet:l,initialData:d,modifiedData:u,reservedNames:g}=(0,Ge.useSelector)(El()),c=(0,P.useNotification)(),{lockAppWithAutoreload:p,unlockAppWithAutoreload:h}=(0,P.useAutoReloadOverlayBlocker)(),{setCurrentStep:x}=(0,P.useGuidedTour)(),{getPlugin:C}=(0,P.useStrapiApp)(),{apis:v}=C(M.p),{autoReload:A}=(0,P.useAppInfo)(),{formatMessage:k}=(0,_.Z)(),{trackUsage:R}=(0,P.useTracking)(),{refetchPermissions:O}=(0,P.useRBACProvider)(),{pathname:F}=(0,Re.TH)(),{onCloseModal:W}=He(),Y=(0,Re.$B)(`/plugins/${M.p}/content-types/:uid`),oe=(0,Re.$B)(`/plugins/${M.p}/component-categories/:categoryUid/:componentUid`),me=(0,P.useFetchClient)(),{put:q,post:ve,del:X}=me,re=(0,f.useRef)();re.current=k;const se=A,pe=Y!==null,Be=pe?"contentType":"component",Ce=pe?w(Y,"params.uid",null):w(oe,"params.componentUid",null),ae=(0,f.useRef)(),I=pe?"content-types":"components";ae.current=async()=>{try{const[{data:{data:j}},{data:{data:B}},{data:G}]=await Promise.all(["components","content-types","reserved-names"].map(Ke=>me.get(`/${M.p}/${Ke}`))),ye=ja(j),je=Ma(ye),Ae=ja(B),we=Ma(Ae);t({type:M.G,components:je,contentTypes:we,reservedNames:G})}catch(j){console.error({err:j}),c({type:"warning",message:{id:"notification.error"}})}},(0,f.useEffect)(()=>(ae.current(),()=>{t({type:M.r})}),[]),(0,f.useEffect)(()=>{!o&&Ce&&Ct()},[o,F,Ce]),(0,f.useEffect)(()=>{A||c({type:"info",message:{id:m("notification.info.autoreaload-disable")}})},[A,c]);const on=(j,B,G,ye=!1,je,Ae=!1)=>{const we=ye?M.w:M.x;t({type:we,attributeToSet:j,forTarget:B,targetUid:G,initialAttribute:je,shouldAddComponentToData:Ae})},et=({attributeToSet:j,forTarget:B,targetUid:G,initialAttribute:ye})=>{t({type:M.A,attributeToSet:j,forTarget:B,targetUid:G,initialAttribute:ye})},dt=({attributeToSet:j,forTarget:B,targetUid:G,initialAttribute:ye})=>{t({type:M.E,attributeToSet:j,forTarget:B,targetUid:G,initialAttribute:ye})},tt=(j,B)=>{t({type:M.u,dynamicZoneTarget:j,componentsToAdd:B})},ln=(j,B,G,ye,je=!1)=>{const Ae=B==="contentType"?M.y:M.z;t({type:Ae,data:j,componentCategory:ye,schemaType:B,uid:G,shouldAddComponentToData:je})},xt=(j,B)=>{t({type:M.C,dynamicZoneTarget:j,newComponents:B})},dn=(j,B,G="")=>{const ye=j==="components"?M.B:M.F;j==="contentType"&&R("willDeleteFieldOfContentType"),t({type:ye,mainDataKey:j,attributeToRemoveName:B,componentUid:G})},un=async j=>{try{const B=`/${M.p}/component-categories/${j}`,G=window.confirm(k({id:m("popUpWarning.bodyMessage.category.delete")}));W(),G&&(p(),await X(B),await lt(!0),await h(),await be())}catch(B){console.error({err:B}),c({type:"warning",message:{id:"notification.error"}})}finally{h()}},cn=async()=>{try{const j=`/${M.p}/${I}/${Ce}`,B=w(u,[Be,"isTemporary"],!1),G=window.confirm(k({id:m(`popUpWarning.bodyMessage.${pe?"contentType":"component"}.delete`)}));if(W(),G){if(B){t({type:M.D});return}p(),await X(j),await lt(!0),await h(),await be()}}catch(j){console.error({err:j}),c({type:"warning",message:{id:"notification.error"}})}finally{h()}},Te=async(j,B)=>{try{const G=`/${M.p}/component-categories/${j}`;W(),p(),await q(G,B),await lt(!0),await h(),await be()}catch(G){console.error({err:G}),c({type:"warning",message:{id:"notification.error"}})}finally{h()}},mn=()=>{const j=Object.assign({},n,u.components);if(!pe){const G=w(u,"component",{});Un(j,w(G,["uid"],""),G)}const B=kl(j);return(0,M.q)(B)},pn=()=>{const j=Ra(n),B=Ra(u.components||{});return(0,M.q)([...B,...j])},fn=(j,B)=>{t({type:M.v,dzName:j,componentToRemoveIndex:B})},Ct=()=>{const B=w(pe?s:n,Ce,{schema:{attributes:[]}}),G=(0,M.s)(B.schema.attributes,n),ye=Dl(B,G,n,pe),je=w(B,"isTemporary",!1)&&Li(w(B,"schema.attributes",[]))===0;t({type:M.t,schemaToSet:ye,hasJustCreatedSchema:je})},qe=(0,f.useMemo)(()=>{const j=pe?s:n;return Ce==="create-content-type"?!1:!Object.keys(j).includes(Ce)&&!o},[n,s,Ce,pe,o]),ut=(0,f.useMemo)(()=>{const j=Object.keys(s).filter(B=>w(s,[B,"schema","visible"],!0)).sort();return w(j,"0","create-content-type")},[s]);if(qe)return(0,a.jsx)(Re.l_,{to:`/plugins/${M.p}/content-types/${ut}`});const ke=async j=>{try{const B=w(u,[Be,"isTemporary"],!1),G={components:Pl(u.components,n,Ce,B)};if(pe){const Ae=v.forms.mutateContentTypeSchema({...xa(u.contentType),...j},d.contentType);if(!ql(Ae)){c({type:"warning",message:{id:m("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}G.contentType=Ae,R("willSaveContentType")}else G.component=xa(u.component,!0),R("willSaveComponent");p();const ye=`/${M.p}/${I}`,je=B?ye:`${ye}/${Ce}`;if(B?await ve(je,G):await q(je,G),await lt(!0),await h(),B&&(d.contentType?.schema.kind==="collectionType"||d.contentType?.schema.kind==="singleType")&&x("contentTypeBuilder.success"),pe){R("didSaveContentType");const Ae=w(G,["contentType","schema","name"],""),we=w(d,["contentType","schema","name"],"");!B&&Ae!==we&&R("didEditNameOfContentType")}else R("didSaveComponent");await be()}catch(B){pe||R("didNotSaveComponent"),console.error({err:B.response}),c({type:"warning",message:{id:"notification.error"}})}finally{h()}},be=async()=>{await O()},ct=(j,B,G)=>{t({type:M.U,data:j,schemaType:B,uid:G})};return(0,a.jsx)(Hn.Provider,{value:{addAttribute:on,addCustomFieldAttribute:et,addCreatedComponentToDynamicZone:tt,allComponentsCategories:zl(n,["category"]),changeDynamicZoneComponents:xt,components:n,componentsGroupedByCategory:Zi(n,"category"),componentsThatHaveOtherComponentInTheirAttributes:mn(),contentTypes:s,createSchema:ln,deleteCategory:un,deleteData:cn,editCategory:Te,editCustomFieldAttribute:dt,isInDevelopmentMode:se,initialData:d,isInContentTypeView:pe,modifiedData:u,nestedComponents:pn(),removeAttribute:dn,removeComponentFromDynamicZone:fn,reservedNames:g,setModifiedData:Ct,sortedContentTypesList:Il(s),submitData:ke,updateSchema:ct},children:l?(0,a.jsx)(P.LoadingIndicatorPage,{}):(0,a.jsxs)(a.Fragment,{children:[e,se&&(0,a.jsx)(Nl,{})]})})};Sa.propTypes={children:i.node.isRequired};const Vl=(0,f.memo)(Sa),Za={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null},La=({children:e})=>{const[t,n]=(0,f.useState)(Za),{trackUsage:s}=(0,P.useTracking)(),o=({attributeType:R,customFieldUid:O})=>{n(F=>({...F,actionType:"create",modalType:"customField",attributeType:R,customFieldUid:O}))},l=({attributeType:R,step:O})=>{t.forTarget==="contentType"&&s("didSelectContentTypeFieldType",{type:R}),n(F=>({...F,actionType:"create",modalType:"attribute",step:O,attributeType:R,showBackLink:!0}))},d=({dynamicZoneTarget:R,targetUid:O})=>{n(F=>({...F,dynamicZoneTarget:R,targetUid:O,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},u=({forTarget:R,targetUid:O})=>{n(F=>({...F,actionType:"create",forTarget:R,targetUid:O,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1}))},g=R=>{n(O=>({...O,...R,isOpen:!0}))},c=R=>{n(O=>({...O,categoryName:R,actionType:"edit",modalType:"editCategory",isOpen:!0}))},p=({forTarget:R,targetUid:O,attributeName:F,attributeType:W,customFieldUid:Y})=>{n(oe=>({...oe,modalType:"customField",customFieldUid:Y,actionType:"edit",forTarget:R,targetUid:O,attributeName:F,attributeType:W,isOpen:!0}))},h=({forTarget:R,targetUid:O,attributeName:F,attributeType:W,step:Y})=>{n(oe=>({...oe,modalType:"attribute",actionType:"edit",forTarget:R,targetUid:O,attributeName:F,attributeType:W,step:Y,isOpen:!0}))},x=({modalType:R,forTarget:O,targetUid:F,kind:W})=>{n(Y=>({...Y,modalType:R,actionType:"edit",forTarget:O,targetUid:F,kind:W,isOpen:!0}))},C=()=>{n(Za)},v=({forTarget:R,targetUid:O})=>{n(F=>({...F,forTarget:R,targetUid:O,modalType:"chooseAttribute"}))},A=()=>{n(R=>({...R,attributeType:"component",modalType:"attribute",step:"2"}))},k=({dynamicZoneTarget:R})=>{n(O=>({...O,dynamicZoneTarget:R,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return(0,a.jsx)(Yn.Provider,{value:{...t,onClickSelectField:l,onClickSelectCustomField:o,onCloseModal:C,onNavigateToChooseAttributeModal:v,onNavigateToAddCompoToDZModal:k,onOpenModalAddComponentsToDZ:d,onNavigateToCreateComponentStep2:A,onOpenModalAddField:u,onOpenModalCreateSchema:g,onOpenModalEditCategory:c,onOpenModalEditField:h,onOpenModalEditCustomField:p,onOpenModalEditSchema:x,setFormModalNavigationState:n},children:e})};La.propTypes={children:i.node.isRequired};const Gl=(0,f.lazy)(()=>r.e(9336).then(r.bind(r,59336))),Hl=()=>{const{url:e}=(0,Re.$B)(),{categoryUid:t}=(0,Re.UO)();return(0,a.jsx)(f.Suspense,{fallback:(0,a.jsx)(P.LoadingIndicatorPage,{}),children:(0,a.jsx)(Re.rs,{children:(0,a.jsx)(Re.AW,{path:`${e}/:componentUid`,children:(0,a.jsx)(Gl,{categoryId:t})})})})},Na=(0,f.lazy)(()=>r.e(9336).then(r.bind(r,59336))),Yl=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{formatMessage:e}=(0,_.Z)(),t=e({id:`${M.p}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:n}=(0,P.useGuidedTour)(),s=(0,f.useRef)(n);return(0,f.useEffect)(()=>{s.current&&s.current("contentTypeBuilder")},[]),(0,a.jsxs)(P.CheckPagePermissions,{permissions:M.P.main,children:[(0,a.jsx)(Ja.q,{title:t}),(0,a.jsx)(La,{children:(0,a.jsx)(Vl,{children:(0,a.jsx)(Xa.A,{sideNav:(0,a.jsx)(Bi,{}),children:(0,a.jsx)(f.Suspense,{fallback:(0,a.jsx)(P.LoadingIndicatorPage,{}),children:(0,a.jsxs)(Re.rs,{children:[(0,a.jsx)(Re.AW,{path:`/plugins/${M.p}/content-types/create-content-type`,component:Na}),(0,a.jsx)(Re.AW,{path:`/plugins/${M.p}/content-types/:uid`,component:Na}),(0,a.jsx)(Re.AW,{path:`/plugins/${M.p}/component-categories/:categoryUid`,component:Hl})]})})})})})]})}},Symbol.toStringTag,{value:"Module"}))}}]);
